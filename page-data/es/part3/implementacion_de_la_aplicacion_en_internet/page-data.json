{"componentChunkName":"component---src-templates-content-template-js","path":"/es/part3/implementacion_de_la_aplicacion_en_internet","result":{"data":{"markdownRemark":{"html":"<div class=\"content\">\n<p>A continuación, conectemos el frontend que creamos en la <a href=\"/es/part2\">parte 2</a> a nuestro propio backend.</p>\n<p>En la parte anterior, el frontend podía pedir la lista de notas del servidor json que teníamos como backend, desde la dirección <a href=\"http://localhost:3001/notes\">http://localhost:3001/notes</a>. Nuestro backend tiene ahora una estructura de URL ligeramente diferente, ya que las notas se pueden encontrar en <a href=\"http://localhost:3001/api/notes\">http://localhost:3001/api/notes</a>. Cambiemos el atributo <em>baseUrl</em> en <i>src/services/notes.js</i> así:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> baseUrl <span class=\"token operator\">=</span> <span class=\"token string\">'http://localhost:3001/api/notes'</span></span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAll</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> request <span class=\"token operator\">=</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ...</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span> getAll<span class=\"token punctuation\">,</span> create<span class=\"token punctuation\">,</span> update <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ahora la solicitud GET del frontend a <a href=\"http://localhost:3001/api/notes\">http://localhost:3001/api/notes</a> no funciona por alguna razón:</p>\n<picture><img src=\"/static/da88e17cb078c89a6e7ba30d61fab0e6/5a190/3ae.png\" srcset=\"/static/da88e17cb078c89a6e7ba30d61fab0e6/772e8/3ae.png 200w,\n/static/da88e17cb078c89a6e7ba30d61fab0e6/e17e5/3ae.png 400w,\n/static/da88e17cb078c89a6e7ba30d61fab0e6/5a190/3ae.png 800w,\n/static/da88e17cb078c89a6e7ba30d61fab0e6/c1b63/3ae.png 1200w,\n/static/da88e17cb078c89a6e7ba30d61fab0e6/29007/3ae.png 1600w,\n/static/da88e17cb078c89a6e7ba30d61fab0e6/6e29b/3ae.png 1610w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>¿Que está pasando aqui? Podemos acceder al backend desde un navegador y desde cartero sin ningún problema.</p>\n<h3>Política de mismo origen y CORS</h3>\n<p>El problema radica en algo llamado CORS, o intercambio de recursos de origen cruzado.</p>\n<p>Según <a href=\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\">Wikipedia</a>:</p>\n<blockquote>\n<p><i>El intercambio de recursos de origen cruzado (CORS) es un mecanismo que permite solicitar recursos restringidos (por ejemplo, fuentes) en una página web desde otro dominio fuera del dominio desde el que se sirvió el primer recurso. Una página web puede incrustar libremente imágenes, hojas de estilo, scripts, iframes y videos de origen cruzado. Ciertas solicitudes \"entre dominios\", en particular las solicitudes Ajax, están prohibidas de forma predeterminada por la política de seguridad del mismo origen.</i></p>\n</blockquote>\n<p>En nuestro contexto, el problema es que, por defecto, el código JavaScript de una aplicación que se ejecuta en un navegador solo puede comunicarse con un servidor en el mismo <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy\">origen</a>. Debido a que nuestro servidor está en el puerto localhost 3001 y nuestra interfaz en el puerto localhost 3000, no tienen el mismo origen.</p>\n<p>Tenga en cuenta que la <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy\">política de mismo origen</a> y CORS no son específicos de React o Node. De hecho, son principios universales del funcionamiento de las aplicaciones web.</p>\n<p>Podemos permitir solicitudes de otros <i>orígenes</i> utilizando el middleware <a href=\"https://github.com/expressjs/cors\">cors</a> de Node.</p>\n<p>Instalemos <i>cors</i> con el comando</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> cors</code></pre></div>\n<p>tomemos el middleware para usar y así permitimos solicitudes de todos los orígenes:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cors <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cors'</span><span class=\"token punctuation\">)</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>¡Y el frontend funciona! Sin embargo, la funcionalidad para cambiar la importancia de las notas aún no se ha implementado en el backend.</p>\n<p>Puedes leer más sobre CORS en la <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\">página de Mozilla</a>.</p>\n<h3>Aplicación a Internet</h3>\n<p>Ahora que todo el stack está listo, muevamos nuestra aplicación a Internet. Usaremos al bueno de <a href=\"https://www.heroku.com\">Heroku</a> para esto.</p>\n<blockquote>\n<p>Si nunca antes ha usado Heroku, puede encontrar instrucciones en la <a href=\"https://devcenter.heroku.com/articles/getting-started-with-nodejs\">documentación de Heroku</a> o en Google.</p>\n</blockquote>\n<p>Agregue un archivo llamado <i>Procfile</i> a la raíz del proyecto para indicarle a Heroku cómo iniciar la aplicación.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">web: <span class=\"token function\">npm</span> start</code></pre></div>\n<p>Cambie la definición del puerto que usa nuestra aplicación en la parte inferior del archivo <i>index.js</i> así:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token constant\">PORT</span> <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">PORT</span> <span class=\"token operator\">||</span> <span class=\"token number\">3001</span></span>app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Server running on port </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">PORT</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Ahora estamos usando el puerto definido en la <a href=\"https://en.wikipedia.org/wiki/Environment_variable\">variable de entorno</a> <em>PORT</em> o el puerto 3001 si la variable de entorno <em>PORT</em> no está definida. Heroku configura el puerto de la aplicación según la variable de entorno.</p>\n<p>Cree un repositorio de Git en el directorio del proyecto y agregue <i>.gitignore</i> con el siguiente contenido</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">node_modules</code></pre></div>\n<p>Cree una aplicación Heroku con el comando <i>heroku create</i>, envíe su código al repositorio y muévalo a Heroku con el comando <i>git push heroku main</i>.</p>\n<p>Si todo salió bien, la aplicación funciona:</p>\n<picture><img src=\"/static/7e52f36bb453e8d8a730d4b2812764c1/5a190/25ea.png\" srcset=\"/static/7e52f36bb453e8d8a730d4b2812764c1/772e8/25ea.png 200w,\n/static/7e52f36bb453e8d8a730d4b2812764c1/e17e5/25ea.png 400w,\n/static/7e52f36bb453e8d8a730d4b2812764c1/5a190/25ea.png 800w,\n/static/7e52f36bb453e8d8a730d4b2812764c1/c1b63/25ea.png 1200w,\n/static/7e52f36bb453e8d8a730d4b2812764c1/fde66/25ea.png 1574w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>De lo contrario, el problema se puede encontrar leyendo los registros de heroku con el comando <i>heroku logs</i>.</p>\n<blockquote>\n<p><strong>NB</strong> Al menos al principio, es bueno estar atento a los registros de heroku en todo momento. La mejor manera de hacer esto es con el comando <i>heroku logs -t</i> que imprime los registros en la consola cada vez que sucede algo en el servidor.</p>\n</blockquote>\n<blockquote>\n<p><strong>NB</strong> Si está implementando desde un repositorio git donde su código no está en la rama principal (es decir, si está alterando el <a href=\"https://github.com/fullstack-hy2020/part3-notes-backend/tree/part3-2\">repositorio de notas</a> de la última lección), deberá ejecutar <em>git push heroku HEAD:master</em>. Si ya ha hecho un push a heroku, es posible que deba ejecutar <em>git push heroku HEAD:main --force</em>.</p>\n</blockquote>\n<p>El frontend también funciona con el backend de Heroku. Puede verificar esto cambiando la dirección del backend en el frontend para que sea la dirección del backend en Heroku en lugar de <i><a href=\"http://localhost:3001\">http://localhost:3001</a></i>.</p>\n<p>La siguiente pregunta es, ¿cómo implementamos el frontend en Internet? Tenemos múltiples opciones. Repasemos uno de ellos a continuación.</p>\n<h3>Frontend production build</h3>\n<p>Hasta ahora hemos estado ejecutando el código de React en <i>modo de desarrollo</i>. En el modo de desarrollo, la aplicación está configurada para dar mensajes de error claros, mostrar inmediatamente los cambios de código en el navegador, etc.</p>\n<p>Cuando se implementa la aplicación, debemos crear una <a href=\"https://reactjs.org/docs/optimizing-performance.html#use-the-production-build\">compilación de producción</a> o una versión de la aplicación que esté optimizada para la producción.</p>\n<p>Una compilación de producción de aplicaciones creadas con <i>create-react-app</i> se puede crear con el comando <a href=\"https://github.com/facebookincubator/create-react-app#npm-run-build-or-yarn-build\">npm run build</a>.</p>\n<p>Ejecutemos este comando desde la <i>raíz del proyecto frontend</i>.</p>\n<p>Esto crea un directorio llamado <i>build</i> (que contiene el único archivo HTML de nuestra aplicación, <i>index.html</i> ) que contiene el directorio <i>static</i>. Se generará una versión <a href=\"https://en.wikipedia.org/wiki/Minification_(programming)\">Minified</a>(reducida) del código JavaScript de nuestra aplicación en el directorio <i>static</i>. Aunque el código de la aplicación está en varios archivos, todo el JavaScript se minificará en un solo archivo. En realidad, todo el código de todas las dependencias de la aplicación también se minificará en este único archivo.</p>\n<p>El código minificado no es muy legible. El comienzo del código se ve así:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">!</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">function</span> <span class=\"token function\">r</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> n<span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">,</span>i<span class=\"token operator\">=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>l<span class=\"token operator\">=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>a<span class=\"token operator\">=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>c<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>s<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>c<span class=\"token operator\">&lt;</span>i<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>c<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>f<span class=\"token operator\">=</span>i<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>o<span class=\"token punctuation\">[</span>f<span class=\"token punctuation\">]</span><span class=\"token operator\">&amp;&amp;</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">[</span>f<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>o<span class=\"token punctuation\">[</span>f<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span>n <span class=\"token keyword\">in</span> l<span class=\"token punctuation\">)</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">,</span>n<span class=\"token punctuation\">)</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>l<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span>p<span class=\"token operator\">&amp;&amp;</span><span class=\"token function\">p</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>s<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span><span class=\"token punctuation\">)</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">return</span> u<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">,</span>a<span class=\"token operator\">||</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">t</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token keyword\">function</span> <span class=\"token function\">t</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> e<span class=\"token punctuation\">,</span>r<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>r<span class=\"token operator\">&lt;</span>u<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>r<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> t<span class=\"token operator\">=</span>u<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>n<span class=\"token operator\">=</span><span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>i<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>t<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> l<span class=\"token operator\">=</span>t<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><span class=\"token operator\">!==</span>o<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">=</span><span class=\"token operator\">!</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>n<span class=\"token operator\">&amp;&amp;</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>e<span class=\"token operator\">=</span><span class=\"token function\">f</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>s<span class=\"token operator\">=</span>t<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token keyword\">return</span> e<span class=\"token punctuation\">}</span><span class=\"token keyword\">var</span> n<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>o<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>u<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> n<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">;</span><span class=\"token keyword\">var</span> t<span class=\"token operator\">=</span>n<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>i<span class=\"token operator\">:</span>r<span class=\"token punctuation\">,</span>l<span class=\"token operator\">:</span><span class=\"token operator\">!</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>exports<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">return</span> e<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">,</span>t<span class=\"token punctuation\">,</span>t<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>t<span class=\"token punctuation\">.</span>l<span class=\"token operator\">=</span><span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>t<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">}</span>f<span class=\"token punctuation\">.</span>m<span class=\"token operator\">=</span>e<span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">.</span>c<span class=\"token operator\">=</span>n<span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">d</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e<span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">,</span>t</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>f<span class=\"token punctuation\">.</span><span class=\"token function\">o</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">)</span><span class=\"token operator\">||</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>enumerable<span class=\"token operator\">:</span><span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>get<span class=\"token operator\">:</span>t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>f<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">r</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"undefined\"</span><span class=\"token operator\">!==</span><span class=\"token keyword\">typeof</span> Symbol<span class=\"token operator\">&amp;&amp;</span>Symbol<span class=\"token punctuation\">.</span>toStringTag<span class=\"token operator\">&amp;&amp;</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">,</span>Symbol<span class=\"token punctuation\">.</span>toStringTag<span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>value<span class=\"token operator\">:</span><span class=\"token string\">\"Module\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Sirviendo archivos estáticos desde el backend</h3>\n<p>Una opción para implementar el frontend es copiar la compilación de producción (el directorio <i>build</i>) a la raíz del repositorio del backend y configurar el backend para que muestre la <i>página principal</i> del frontend (el archivo <i>build/index.html</i>) como su página principal.</p>\n<p>Comenzamos copiando la compilación de producción del frontend a la raíz del backend. Con una computadora Mac o Linux, la copia se puede hacer desde el directorio frontend con el comando</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> -r build <span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/osa3/notes-backend</code></pre></div>\n<p>Si está usando una computadora con Windows, puede usar el comando <a href=\"https://www.windows-commandline.com/windows-copy-command-syntax-examples/\">copy</a> o <a href=\"https://www.windows-commandline.com/xcopy-command-syntax-examples/\">xcopy</a> en su lugar. De lo contrario, simplemente copia y pega.</p>\n<p>El directorio de backend ahora debería verse como sigue:</p>\n<picture><img src=\"/static/3c4c5437683d0ea2e206c80b39766136/5a190/27ea.png\" srcset=\"/static/3c4c5437683d0ea2e206c80b39766136/772e8/27ea.png 200w,\n/static/3c4c5437683d0ea2e206c80b39766136/e17e5/27ea.png 400w,\n/static/3c4c5437683d0ea2e206c80b39766136/5a190/27ea.png 800w,\n/static/3c4c5437683d0ea2e206c80b39766136/c1b63/27ea.png 1200w,\n/static/3c4c5437683d0ea2e206c80b39766136/37048/27ea.png 1352w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Para hacer que express muestre <i>contenido estático</i>, la página <i>index.html</i>  y el JavaScript, etc., necesitamos un middleware integrado de express llamado <a href=\"http://expressjs.com/en/starter/static-files.html\">static</a>.</p>\n<p>Cuando agregamos lo siguiente en medio de las declaraciones de middlewares</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>express<span class=\"token punctuation\">.</span><span class=\"token function\">static</span><span class=\"token punctuation\">(</span><span class=\"token string\">'build'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>siempre que express recibe una solicitud HTTP GET, primero verificará si el directorio <i>build</i> contiene un archivo correspondiente a la dirección de la solicitud. Si se encuentra un archivo correcto, express lo devolverá.</p>\n<p>Ahora las solicitudes HTTP GET a la dirección <i>www.serversaddress.com/index.html</i> o <i>www.serversaddress.com</i> mostrarán el frontend de React. Las solicitudes GET a la dirección <i>www.serversaddress.com/api/notes</i> serán manejadas por el código del backend.</p>\n<p>Debido a nuestra situación, tanto el frontend como el backend están en la misma dirección, podemos declarar <em>baseUrl</em> como una URL <a href=\"https://www.w3.org/TR/WD-html40-970917/htmlweb.html#h-5.1.2\">relativa</a>. Esto significa que podemos omitir la parte que declara el servidor.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> baseUrl <span class=\"token operator\">=</span> <span class=\"token string\">'/api/notes'</span></span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAll</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> request <span class=\"token operator\">=</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ...</span></code></pre></div>\n<p>Después del cambio, tenemos que crear una nueva compilación de producción y copiarla en la raíz del repositorio de backend.</p>\n<p>La aplicación ahora se puede utilizar desde la dirección de <i>backend</i> <a href=\"http://localhost:3001\">http://localhost:3001</a>:</p>\n<picture><img src=\"/static/f5d8aad803a0a13ea9b29fd705774ec8/5a190/28e.png\" srcset=\"/static/f5d8aad803a0a13ea9b29fd705774ec8/772e8/28e.png 200w,\n/static/f5d8aad803a0a13ea9b29fd705774ec8/e17e5/28e.png 400w,\n/static/f5d8aad803a0a13ea9b29fd705774ec8/5a190/28e.png 800w,\n/static/f5d8aad803a0a13ea9b29fd705774ec8/c1b63/28e.png 1200w,\n/static/f5d8aad803a0a13ea9b29fd705774ec8/9685e/28e.png 1336w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Nuestra aplicación ahora funciona exactamente como la aplicación de ejemplo de <a href=\"/es/part0/fundamentals_of_web_apps#single-page-app\">aplicación de una sola</a> página que estudiamos en la parte 0.</p>\n<p>Cuando usamos un navegador para ir a la dirección <a href=\"http://localhost:3001\">http://localhost:3001</a>, el servidor devuelve el archivo <i>index.html</i> del repositorio de <i>compilación</i>. El contenido resumido del archivo es el siguiente:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>React App<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/static/css/main.f9a47af2.chunk.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/static/js/1.578f4ea1.chunk.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/static/js/main.104ca08d.chunk.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>El archivo contiene instrucciones para obtener una hoja de estilo CSS que define los estilos de la aplicación, y dos etiquetas de <i>script</i> que indican al navegador que obtenga el código JavaScript de la aplicación: la aplicación React real.</p>\n<p>El código de React obtiene notas de la dirección del servidor <a href=\"http://localhost:3001/api/notes\">http://localhost:3001/api/notes</a> y las muestra en la pantalla. Las comunicaciones entre el servidor y el navegador se pueden ver en la pestaña <i>Network</i> de la consola del desarrollador:</p>\n<picture><img src=\"/static/6f63795c7abedc6d9afbc405f0642aeb/5a190/29ea.png\" srcset=\"/static/6f63795c7abedc6d9afbc405f0642aeb/772e8/29ea.png 200w,\n/static/6f63795c7abedc6d9afbc405f0642aeb/e17e5/29ea.png 400w,\n/static/6f63795c7abedc6d9afbc405f0642aeb/5a190/29ea.png 800w,\n/static/6f63795c7abedc6d9afbc405f0642aeb/c1b63/29ea.png 1200w,\n/static/6f63795c7abedc6d9afbc405f0642aeb/29007/29ea.png 1600w,\n/static/6f63795c7abedc6d9afbc405f0642aeb/10d53/29ea.png 1724w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Después de asegurarse de que la versión de producción de la aplicación funcione localmente, haga un commit de la compilación de producción del frontend en el repositorio de backend y envíe el código a Heroku nuevamente.</p>\n<p><a href=\"https://vast-oasis-81447.herokuapp.com/\">La aplicación</a> funciona perfectamente, excepto que aún no hemos agregado la funcionalidad para cambiar la importancia de una nota en el backend.</p>\n<picture><img src=\"/static/cde873f94e045e8d1a07b4d4a1a59bf9/5a190/30ea.png\" srcset=\"/static/cde873f94e045e8d1a07b4d4a1a59bf9/772e8/30ea.png 200w,\n/static/cde873f94e045e8d1a07b4d4a1a59bf9/e17e5/30ea.png 400w,\n/static/cde873f94e045e8d1a07b4d4a1a59bf9/5a190/30ea.png 800w,\n/static/cde873f94e045e8d1a07b4d4a1a59bf9/c1b63/30ea.png 1200w,\n/static/cde873f94e045e8d1a07b4d4a1a59bf9/0f586/30ea.png 1498w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Nuestra aplicación guarda las notas en una variable. Si la aplicación falla o se reinicia, todos los datos desaparecerán.</p>\n<p>La aplicación necesita una base de datos. Antes de presentar uno, repasemos algunas cosas.</p>\n<h3>Optimización de la implementación del frontend</h3>\n<p>Para crear una nueva compilación de producción del frontend sin trabajo manual adicional, agreguemos algunos scripts npm al <i>package.json</i> del repositorio de backend:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n    <span class=\"token property\">\"build:ui\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rm -rf build &amp;&amp; cd ../../osa2/materiaali/notes-new &amp;&amp; npm run build --prod &amp;&amp; cp -r build ../../../osa3/notes-backend/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"git push heroku main\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"deploy:full\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run build:ui &amp;&amp; git add . &amp;&amp; git commit -m uibuild &amp;&amp; npm run deploy\"</span><span class=\"token punctuation\">,</span>    \n    <span class=\"token property\">\"logs:prod\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"heroku logs --tail\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>El script  <em>npm run build:ui</em> construye el frontend y copia la versión de producción en el repositorio backend. <em>npm run deploy</em> libera el backend actual a heroku.</p>\n<p><em>npm run deploy:full</em>: full combina estos dos y contiene los comandos <i>git</i> necesarios para actualizar el repositorio de backend.</p>\n<p>También hay un script <em>npm run logs:prod</em> para mostrar los logs de heroku.</p>\n<p>Tenga en cuenta que las rutas de directorio en el script <i>build:ui</i> dependen de la ubicación de los repositorios en el sistema de archivos.</p>\n<blockquote>\n<p><strong>NB</strong> En Windows, los scripts npm se ejecutan en cmd.exe como el shell predeterminado que no admite comandos bash. Para que los comandos de bash anteriores funcionen, puede cambiar el shell predeterminado a Bash (en la instalación predeterminada de Git para Windows) de la siguiente manera:</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\">npm config set script-shell \"C:\\\\Program Files\\\\git\\\\bin\\\\bash.exe\"</code></pre></div>\n<h3>Proxy</h3>\n<p>Los cambios en el frontend han hecho que ya no funcione en el modo de desarrollo (cuando se inicia con el comando <em>npm start</em>), ya que la conexión con el backend no funciona.</p>\n<picture><img src=\"/static/19026b5379d1feef11ecc20ca2f669a9/5a190/32ea.png\" srcset=\"/static/19026b5379d1feef11ecc20ca2f669a9/772e8/32ea.png 200w,\n/static/19026b5379d1feef11ecc20ca2f669a9/e17e5/32ea.png 400w,\n/static/19026b5379d1feef11ecc20ca2f669a9/5a190/32ea.png 800w,\n/static/19026b5379d1feef11ecc20ca2f669a9/c1b63/32ea.png 1200w,\n/static/19026b5379d1feef11ecc20ca2f669a9/07d7d/32ea.png 1478w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Esto se debe al cambio de la dirección de backend a una URL relativa:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> baseUrl <span class=\"token operator\">=</span> <span class=\"token string\">'/api/notes'</span></code></pre></div>\n<p>Debido a que en el modo de desarrollo el frontend está en la dirección <i>localhost:3000</i>, las solicitudes al backend van a la dirección incorrecta <i>localhost:3000/api/notes</i>.. El backend está en <i>localhost:3001</i>.</p>\n<p>Si el proyecto se creó con create-react-app, este problema es fácil de resolver. Es suficiente agregar la siguiente declaración al archivo <i>package.json</i> del repositorio de frontend.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"dependencies\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    // <span class=\"token punctuation\">..</span>.\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"scripts\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    // <span class=\"token punctuation\">..</span>.\n  <span class=\"token punctuation\">}</span>,\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token string\">\"proxy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://localhost:3001\"</span></span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Después de reiniciar, el entorno de desarrollo de React funcionará como un <a href=\"https://create-react-app.dev/docs/proxying-api-requests-in-development/\">proxy</a>. Si el código de React realiza una solicitud HTTP a una dirección de servidor en <i><a href=\"http://localhost:3000\">http://localhost:3000</a></i> no administrada por la aplicación React en sí (es decir, cuando las solicitudes no tratan de obtener el CSS o JavaScript de la aplicación), la solicitud se redirigirá a el servidor en <i><a href=\"http://localhost:3001\">http://localhost:3001</a></i>.</p>\n<p>Ahora el frontend también está bien, trabajando con el servidor tanto en el modo de desarrollo como en el de producción.</p>\n<p>Un aspecto negativo de nuestro enfoque es lo complicado que es implementar el frontend. La implementación de una nueva versión requiere generar una nueva compilación de producción del frontend y copiarla en el repositorio de backend. Esto dificulta la creación de una <a href=\"https://martinfowler.com/bliki/DeploymentPipeline.html\">canalización de implementación</a> automatizada. La canalización de implementación significa una forma automatizada y controlada de mover el código desde la computadora del desarrollador a través de diferentes pruebas y controles de calidad al entorno de producción.</p>\n<p>Hay varias formas de lograr esto (por ejemplo, colocando tanto el código de backend como el de frontend <a href=\"https://github.com/mars/heroku-cra-node\">en el mismo repositorio</a> ) pero no vamos a entrar en ellos ahora.</p>\n<p>En algunas situaciones, puede ser sensato implementar el código del frontend como su propia aplicación. Con las aplicaciones creadas con create-react-app es <a href=\"https://github.com/mars/create-react-app-buildpack\">sencillo</a> .</p>\n<p>El código actual del backend se puede encontrar en <a href=\"https://github.com/fullstack-hy2020/part3-notes-backend/tree/part3-3\">Github</a>, en la rama <i>part3-3</i>. Los cambios en el código del frontend están en la rama <i>part3-1</i> del <a href=\"https://github.com/fullstack-hy2020/part2-notes/tree/part3-1\">repositorio del frontend</a>.</p>\n</div>\n<div class=\"tasks\">\n<h3>Ejercicios 3.9.-3.11.</h3>\n<p>Los siguientes ejercicios no requieren muchas líneas de código. Sin embargo, pueden ser un desafío, porque debe comprender exactamente qué está sucediendo y dónde, y las configuraciones deben ser las correctas.</p>\n<h4>3.9 backend de la agenda telefónica, paso 9</h4>\n<p>Haga que el backend funcione con el frontend de la parte anterior. No implemente todavía la funcionalidad para realizar cambios en los números de teléfono, que se implementará en el ejercicio 3.17.</p>\n<p>Probablemente tendrá que hacer algunos pequeños cambios en el frontend, al menos en las URL del backend. Recuerde mantener abierta la consola del desarrollador en su navegador. Si algunas solicitudes HTTP fallan, debe verificar en la pestaña <i>Network</i> qué está sucediendo. Vigile también la consola del backend. Si no hiciste el ejercicio anterior, vale la pena imprimir los datos de la solicitud o <i>request.body</i> en la consola en el manejador de eventos responsable de las solicitudes POST.</p>\n<h4>3.10 backend de la agenda telefónica, paso 10</h4>\n<p>Implemente el backend en Internet, por ejemplo en Heroku.</p>\n<p>Pruebe el backend implementado con un navegador y un cliente REST de Postman o VS Code para asegurarse de que funcione.</p>\n<p><strong>PRO TIP:</strong> Cuando implementes tu aplicación en Heroku, vale la pena al menos al principio estar atento a los logs de la aplicación heroku <strong>EN TODO MOMENTO</strong> con el comando <em>heroku logs -t</em>.</p>\n<p>El siguiente es un log sobre un problema típico. Heroku no puede encontrar la dependencia de la aplicación <i>express</i>:</p>\n<picture><img src=\"/static/9c32d4d565c7179d84334ba086ed03b9/5a190/33.png\" srcset=\"/static/9c32d4d565c7179d84334ba086ed03b9/772e8/33.png 200w,\n/static/9c32d4d565c7179d84334ba086ed03b9/e17e5/33.png 400w,\n/static/9c32d4d565c7179d84334ba086ed03b9/5a190/33.png 800w,\n/static/9c32d4d565c7179d84334ba086ed03b9/c1b63/33.png 1200w,\n/static/9c32d4d565c7179d84334ba086ed03b9/29007/33.png 1600w,\n/static/9c32d4d565c7179d84334ba086ed03b9/6e29b/33.png 1610w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>La razón es que el paquete <i>express</i> no se ha instalado con el comando <em>npm install express</em>, por lo que la información sobre la dependencia no se guardó en el archivo <i>package.json</i>.</p>\n<p>Otro problema típico es que la aplicación no está configurada para usar el puerto configurado para la variable de entorno <em>PORT</em>:</p>\n<picture><img src=\"/static/ca43fb98bc62fbd1d6a918b4d965274e/5a190/34.png\" srcset=\"/static/ca43fb98bc62fbd1d6a918b4d965274e/772e8/34.png 200w,\n/static/ca43fb98bc62fbd1d6a918b4d965274e/e17e5/34.png 400w,\n/static/ca43fb98bc62fbd1d6a918b4d965274e/5a190/34.png 800w,\n/static/ca43fb98bc62fbd1d6a918b4d965274e/c1b63/34.png 1200w,\n/static/ca43fb98bc62fbd1d6a918b4d965274e/ae28e/34.png 1598w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Cree un README.md en la raíz de su repositorio y agregue un enlace a su aplicación en línea.</p>\n<h4>3.11 full stack de la agenda telefónica</h4>\n<p>Genere una compilación de producción de su frontend y agréguela a la aplicación de Internet utilizando el método presentado en esta parte.</p>\n<p><strong>NB</strong> Asegúrese de que el directorio de <i>build</i> no esté ignorada en gitignore</p>\n<p>También asegúrese de que el frontend todavía funcione localmente.</p>\n</div>","frontmatter":{"mainImage":{"publicURL":"/static/8ac7bc0fb2b7018a7853b00c454b2103/part-3.svg"},"part":3,"letter":"b","lang":"es"}}},"pageContext":{"part":3,"letter":"b","lang":"es"}},"staticQueryHashes":["3128451518"]}