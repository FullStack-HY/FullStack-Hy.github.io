<!DOCTYPE html><html lang="es"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.e909ca77e15e07f0bc8a.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,500,600);@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400);code[class*=language-],pre[class*=language-]{color:#fff;background:none;text-shadow:0 -.1em .2em #000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#4d4033}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:.3em solid #7a6652;border-radius:.5em;box-shadow:inset 1px 1px .5em #000}:not(pre)>code[class*=language-]{padding:.15em .2em .05em;border-radius:.3em;border:.13em solid #7a6652;box-shadow:inset 1px 1px .3em -.1em #000;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#998066}.token.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.constant,.token.number,.token.property,.token.symbol,.token.tag{color:#d1949e}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#bde052}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f5b83d}.token.atrule,.token.attr-value,.token.keyword{color:#d1949e}.token.important,.token.regex{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.deleted{color:red}.course{position:relative;width:100%}@media (min-width:992px){.course{display:flex;flex-wrap:nowrap;flex-direction:row;align-items:flex-start}}.course p{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course p{margin-left:1rem}}.course p:not(:last-of-type){margin-bottom:1rem}@media (min-width:640px){.course h1{margin-left:3rem}}.course h2,.course h3,.course h4{padding-bottom:2rem}@media (min-width:640px){.course h2,.course h3,.course h4,.course table{margin-left:1rem}}.course ul{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course ul{margin-left:2.2rem}}.course h2:not(:first-of-type){margin-top:2rem}.course pre{margin:2rem 0;background-color:#33332d;color:#fff}.course em{font-family:Courier;font-style:normal;background-color:hsla(0,0%,88.2%,.6);padding:1px 5px 2px}.course img{border:11px solid transparent}.course .banner,.course .container{position:static}.course .letter{width:4rem;height:4rem;border-width:5px;border-style:solid;border-radius:2.5rem;text-align:center;margin:1rem;line-height:1.3em;transform:translate(-1rem)}@media (min-width:640px){.course .letter{transform:translate(-3rem,4.5rem)}}.course .letter,.course h1{font-size:2.3rem;font-weight:700}.course-content-container{width:100%}.course-content a,.tasks a{border:0;border-bottom-width:2px;border-style:solid;padding:2px}.course-content{width:90%;margin:0 auto;max-width:1200px}@media (min-width:992px){.course-content-inner{padding-left:30%;padding-right:5%}}.tasks a{border-color:#33332d!important}.tasks a:hover{background-color:#fff!important;color:#000!important}.gatsby-highlight-code-line{background-color:hsla(0,0%,88.2%,.3);display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:1em}code[class*=language-],pre[class*=language-]{text-shadow:none}.arrow-go-up{width:36px;height:36px;position:fixed;bottom:5%;right:5%;z-index:99999;cursor:pointer}@media (max-width:639px){.arrow-go-up{right:10%}}.part-main__banner{background-position:50%;background-size:50%;padding-bottom:10%;background-repeat:no-repeat}@media (max-width:639px){.part-main__banner{background-position:top;background-size:70%;padding-bottom:30%!important}}.part-intro{font-family:IBM Plex Sans,monospace!important}.part-intro p:not(:last-of-type){padding-bottom:2em}.part-intro__banner{background-size:50%;background-repeat:no-repeat;background-position:100%}@media (max-width:639px){.part-intro__banner{background-position:top;background-size:70%}.part-intro__banner>.container{margin-top:40%}}.part-intro a{border-bottom:1px solid #33332d}.part-intro a:hover{background-color:#fff}.arrow__container{position:relative}.arrow__container:not():first-child{background:none;background-color:none}@media (min-width:640px){.arrow__container:not():first-child{border-left:none}.arrow__container:not():first-child:before{content:"";background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjwhLS1HZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCktLT48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0NzcuMTc1IDQ3Ny4xNzUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTM2MC43MzEsMjI5LjA3NWwtMjI1LjEtMjI1LjFjLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwcy01LjMsMTMuOCwwLDE5LjFsMjE1LjUsMjE1LjVsLTIxNS41LDIxNS41CgkJYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWMyLjYsMi42LDYuMSw0LDkuNSw0YzMuNCwwLDYuOS0xLjMsOS41LTRsMjI1LjEtMjI1LjFDMzY1LjkzMSwyNDIuODc1LDM2NS45MzEsMjM0LjI3NSwzNjAuNzMxLDIyOS4wNzV6CgkJIi8+PC9nPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjwvc3ZnPg==) no-repeat;background-size:contain;position:absolute;top:0;left:0;height:100%;width:100%}}.arrows--horizontal{display:flex;position:relative;margin:0;align-items:flex-start}.arrow__wrapper{display:flex;justify-content:flex-start;align-items:center;margin:0}.arrow__wrapper:first-of-type{border-right:none;z-index:20}.arrow__wrapper:nth-of-type(n+2){margin-left:-4rem;z-index:10}.arrow__wrapper:nth-of-type(n+2) .arrow__rectangle{border-left:none;padding-left:4rem}.arrow__wrapper:nth-of-type(3){z-index:5}.arrow__wrapper:hover .arrow__point,.arrow__wrapper:hover .arrow__rectangle,.arrow__wrapper:hover .arrow__rectangle>a{background-color:#33332d!important;color:#fff!important}.arrow__rectangle{padding:1rem;justify-content:center;align-items:center;border:2px solid #33332d;border-right:none;z-index:2;overflow:hidden;font-family:IBM Plex Sans,monospace;position:relative}@media (max-width:991px){.arrow__rectangle{font-size:1rem}}.arrow__rectangle .bold{font-weight:600}.arrow__rectangle--thick-border{border:3px solid #33332d;border-right:none}.arrow__point{padding:1.25rem;border:2px solid #33332d;border-bottom:none;border-left:none;transform:translate(-1.3rem) rotate(45deg);z-index:1;overflow:hidden}.arrow__point--thick-border{border:3px solid #33332d;border-bottom:none;border-left:none}.arrow__wrapper--stacked{display:flex;justify-content:flex-start;align-items:center;margin:auto auto auto 0}@media (max-width:639px){.arrow__wrapper--stacked .arrow__rectangle{border:none;background-color:transparent!important;padding:0;font-size:1rem;justify-content:unset}.arrow__wrapper--stacked .arrow__rectangle>p>span{border-bottom:1px solid #33332d;margin:auto}.arrow__wrapper--stacked .arrow__rectangle>p>span:hover{background-color:#fff!important;color:#000}.arrow__wrapper--stacked .arrow__point{display:none}}.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:1rem}@media (min-width:640px){.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:-2px}}.arrow__wrapper--stacked .arrow__rectangle{position:relative}@media (min-width:640px){.arrow__wrapper--stacked .arrow__rectangle{padding:1.25rem}}@media (min-width:992px){.arrow__wrapper--stacked .arrow__rectangle{padding:1rem}}.arrow__wrapper--stacked .arrow__point{padding:1.08rem;margin-left:2px}@media (min-width:640px){.arrow__wrapper--stacked .arrow__point{margin-left:unset;padding:1.25rem}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow__point,.arrow__wrapper--stacked:hover .arrow__rectangle{background-color:#33332d!important}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow--stacked-letter,.arrow__wrapper--stacked:hover .arrow--stacked-title{color:#fff}}.arrow--stacked-title{font-family:IBM Plex Mono,monospace}@media (min-width:640px){.arrow--stacked-title{white-space:nowrap}}.arrow__container--with-link{width:100%!important}@media (max-width:639px){.breadcrumb .arrow__wrapper{display:none}}.breadcrumb .arrow__wrapper:hover .arrow__point,.breadcrumb .arrow__wrapper:hover .arrow__rectangle{background-color:#33332d!important}.breadcrumb .arrow__wrapper:hover .arrow--stacked-letter,.breadcrumb .arrow__wrapper:hover .arrow--stacked-title{color:#fff}.breadcrumb .arrow__rectangle{position:relative}@media (max-width:639px){.breadcrumb .arrow__rectangle{border:none;padding:0;font-size:.7rem;white-space:nowrap;background-color:transparent!important;color:#33332d}}@media (max-width:639px){.breadcrumb .arrow__point{display:none}}.banner{display:flex;width:100%;align-items:center;position:relative;padding:2rem 0;background-color:#e1e1e1}@media (min-width:992px){.banner{padding:3.444rem 3.444rem 4.444rem}}html{font-family:IBM Plex Mono,monospace;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:IBM Plex Mono,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em IBM Plex Mono,monospace;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:IBM Plex Mono,monospace;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{margin:2rem 0 -.5rem;font-size:1.38316rem}h3,h4{padding:0;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{margin:2rem 0 -1rem;font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.element--flex{display:flex;flex-wrap:wrap}.element--space-around{justify-content:space-around}.element--space-between{justify-content:space-between}.element--column{flex-direction:column}.element--centered{align-items:center;justify-content:center!important}@media (min-width:992px){.element--centered-in-desktop{align-items:center;justify-content:center!important}}@media (min-width:992px){.element--horizontal-half{width:45%}}.element--auto-margin{margin:auto}.element--auto-bottom-margin{margin-bottom:auto}.element--flex-start{align-content:flex-start}.element--no-wrap{flex-wrap:nowrap}.element--relative{position:relative!important}.edit-link>span{border-bottom-width:3px;border-bottom-style:solid;border-bottom-color:inherit}.accordion__container{margin-bottom:1rem}.accordion__title{padding-left:2.149rem!important;padding-right:2.149rem!important;font-size:1.111rem!important;font-weight:600}.accordion{background-color:#fff;border:3px solid #33332d;border-radius:5px;color:#444;cursor:pointer;padding:1rem;width:100%;text-align:left;outline:none;font-size:15px;transition:max-width .4s}.accordion:hover,.active{background-color:#e1e1e1}.accordion:after{content:"+";font-size:1.5rem;float:right;margin-left:5px}.active{border-color:#fff}.active:after{content:"-";font-size:1.5rem}.panel{background-color:#fff;transition:height .3s;transition-timing-function:ease-in-out;overflow:hidden}.accordion--side-navigation{width:100%;margin-left:unset}.accordion--side-navigation .accordion{border:none;padding:0!important;background-color:transparent!important;color:#33332d!important;border-radius:0}.accordion--side-navigation .accordion__title{font-size:16px!important;font-weight:unset;background-color:transparent}.accordion--side-navigation .accordion__title:hover{background-color:#33332d!important;color:#fff!important}.accordion--side-navigation .panel{padding:1rem 0 0!important;background-color:transparent}.accordion--side-navigation .panel ul{margin-left:1rem}.accordion--side-navigation .accordion:hover,.accordion--side-navigation .active{background-color:#33332d;color:#fff}.accordion--side-navigation .accordion:after,.accordion--side-navigation .active:after{content:""}.body-text:not(:last-of-type){margin-bottom:2.5rem}.body-text__title{color:#33332d;font-size:1.44rem;line-height:1.25em;font-weight:700;margin:0;position:relative;top:50%;transform:translateY(-50%)}.body-text__content:not(:last-of-type){padding-bottom:2em}.bold{font-weight:700}.body-text--no-padding{padding:0!important}@media (min-width:640px){.companies__main-title .body-text__title{font-size:3rem}}.challenge-title{font-size:1.44rem}@media (min-width:992px){.company__logo{width:15%!important}}.content-liftup{position:relative;text-decoration:none}.content-liftup--small{box-sizing:border-box}.content-liftup--small>:last-child{margin-bottom:0}.content-liftup__name{margin-top:1.5rem;color:#33332d;font-weight:700}@media (min-width:992px){.content-liftup__name{margin-top:2rem}}.content-liftup__summary{margin-top:1rem;margin-bottom:3rem;color:#33332d;line-height:28px}.content-liftup__link{text-decoration:none;font-weight:700}.content-liftup .content-liftup__image:after,.content-liftup__link:after{content:"";position:absolute;top:0;left:0;height:100%;width:100%}.content-liftup .content-liftup__image:after{opacity:.5;z-index:2}body,html{margin:0;padding:0;font-family:IBM Plex Mono,monospace;font-weight:500;color:#33332d;font-size:14px;line-height:1.555rem}@media (min-width:992px){body,html{font-size:18px}}.main-wrapper{min-height:100vh;display:flex;flex-direction:column}p{margin:0;text-align:left;line-height:1.5em}a,p{color:#33332d}a{text-decoration:none}.link a{border-bottom:2px solid #e1e1e1}.link a:hover{background-color:#e1e1e1}.container{position:relative;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between;width:90%;max-width:1300px}@media (max-width:639px){.container{padding:0 20px}}@media (min-width:992px){.container--right{margin-right:5%;width:54%;max-width:779.9844px}}@media (min-width:992px) and (min-width:1300px){.container--right{margin-right:calc(50% - 650px)}}.hidden{display:none!important}.centered{text-align:center}@media (max-width:639px){.centered--mobile{justify-content:center;align-content:center;align-items:center}}.spacing{margin-top:2rem}@media (max-width:992px) and (min-width:640px){.spacing--tablet{margin-top:5rem!important}}@media (min-width:992px){.spacing{margin-top:5rem}}.spacing--small{margin-top:1rem}@media (min-width:992px){.spacing--small{margin-top:3.444rem}}.spacing--large{margin-top:4rem}@media (min-width:992px){.spacing--large{margin-top:10rem}}.spacing--extra-large{margin-top:4rem}@media (min-width:992px){.spacing--extra-large{margin-top:20rem}}.spacing--after{margin-bottom:2rem}@media (min-width:992px){.spacing--after{margin-bottom:5rem}}@media (max-width:639px){.spacing--after--mobile{margin-bottom:5rem}}@media (min-width:992px){.spacing--after-small{margin-bottom:2.5rem}}.spacing--after-large{margin-bottom:4rem}@media (min-width:992px){.spacing--after-large{margin-bottom:10rem}}@media (max-width:991px){.spacing--mobile{margin-top:2rem}}@media (max-width:1299px){.spacing--mobile--small{margin-top:1.5rem}}@media (max-width:1299px){.spacing--mobile--large{margin-top:3rem}}.col-1{width:100%}@media (min-width:992px){.col-1{width:10%}}.col-2{width:100%}@media (min-width:992px){.col-2{width:20%}}.col-3{width:100%}@media (min-width:992px){.col-3{width:30%}}.col-4{width:100%}@media (min-width:992px){.col-4{width:40%}}.col-5{width:100%}@media (min-width:992px){.col-5{width:50%}}.col-6{width:100%}@media (min-width:992px){.col-6{width:60%}}.col-7{width:100%}@media (min-width:992px){.col-7{width:70%}}.col-8{width:100%}@media (min-width:992px){.col-8{width:80%}}.col-9{width:100%}@media (min-width:992px){.col-9{width:90%}}.col-10{width:100%}@media (min-width:992px){.col-10{width:100%}}@media (min-width:992px){.push-right-1{margin-left:10%}.push-right-2{margin-left:20%}.push-right-3{margin-left:30%}.push-right-4{margin-left:40%}.push-right-5{margin-left:50%}.push-left-1{margin-right:10%}.push-left-2{margin-right:20%}.push-left-3{margin-right:30%}.push-left-4{margin-right:40%}.push-left-5{margin-right:50%}.push-left{margin-right:auto}.push-right{margin-left:auto}}@media (max-width:639px){.col-1--mobile{width:10%!important}.col-2--mobile{width:20%!important}.col-3--mobile{width:30%!important}.col-4--mobile{width:40%!important}.col-5--mobile{width:50%!important}.col-6--mobile{width:60%!important}.col-7--mobile{width:70%!important}.col-8--mobile{width:80%!important}.col-9--mobile{width:90%!important}.col-10--mobile{width:100%!important}.push-right-1--mobile{margin-left:10%!important}.push-right-2--mobile{margin-left:20%!important}.push-right-3--mobile{margin-left:30%!important}.push-right-4--mobile{margin-left:40%!important}.push-right-5--mobile{margin-left:50%!important}.push-left-1--mobile{margin-right:10%!important}.push-left-2--mobile{margin-right:20%!important}.push-left-3--mobile{margin-right:30%!important}.push-left-4--mobile{margin-right:40%!important}.push-left-5--mobile{margin-right:50%!important}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}@media (max-width:1299px){.col-1--tablet{width:10%}.col-2--tablet{width:20%}.col-3--tablet{width:30%}.col-4--tablet{width:40%}.col-5--tablet{width:50%}.col-6--tablet{width:60%}.col-7--tablet{width:70%}.col-8--tablet{width:80%}.col-9--tablet{width:90%}.col-10--tablet{width:100%}.order-0--tablet{order:0}.order-1--tablet{order:1}.order-2--tablet{order:2}.order-3--tablet{order:3}.order-4--tablet{order:4}.order-5--tablet{order:5}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}.centered-vertically{display:flex;flex-direction:column;justify-content:center}.nav-item-hover{text-decoration:none;color:#33332d;font-weight:500;padding:.2em}@media (min-width:640px){.nav-item-hover{font-weight:600}}.nav-item-hover:active,.nav-item-hover:focus,.nav-item-hover:hover{color:#fff;background-color:#33332d!important}.nav-item-hover:active,.nav-item-hover:focus{outline:2px solid #706be4}.flex-fix-aligning:after,.flex-fix-aligning:before{content:"";width:30%;order:2}.index__main-title{font-size:1.571rem}@media (min-width:992px){.index__main-title{font-size:3rem}}.auto-bottom-margin{margin-bottom:auto}@media (min-width:992px){.absolute-top-right--desktop{position:absolute;top:0;right:0}}@media (min-width:640px){.frontpage__hero .image{top:-2em}}@media (min-width:992px){.frontpage__hero{flex-direction:column}.frontpage__hero .image{top:4em}}.heading-font{font-family:IBM Plex Sans,monospace}.about__challenge-button{box-shadow:-3px 5px #33332d;padding:.6rem 1rem;border:3px solid #33332d;font-weight:600}.about__challenge-button:hover{background-color:#33332d;color:#fff;cursor:pointer}.about__challenge-button--turquoise{background-color:#82f7eb}@media (max-width:1299px){.space-between--mobile{justify-content:space-between}}.challenge__banner{display:flex;justify-content:center;margin-bottom:-70px}@media (min-width:640px){.challenge__banner{transform:translateY(-10px)}}@media (min-width:1300px){.challenge__banner{margin-bottom:-370px}}.challenge__banner .image{margin:0;width:70%;transform:translateY(-25%)}@media (min-width:640px){.challenge__banner .image{transform:translateY(-10%)}}@media (min-width:1300px){.challenge__banner .image{transform:translateY(-30%)}}.header{position:-webkit-sticky;position:sticky;z-index:9999999999;top:0;box-sizing:border-box;width:100%;padding-top:1.444rem;padding-bottom:1rem;transition:all .2s ease-in-out}.header--small{pointer-events:none}.header__logo{margin:0 10px;pointer-events:auto}.navigation{z-index:2;list-style:none;opacity:0;display:none;margin:0;padding:5%;flex-direction:column;justify-content:center;align-items:center;background:#e1e1e1;position:fixed;top:8%;right:5%;transition:opacity .3s ease-in-out;font-weight:200}@media (min-width:1300px){.navigation{display:flex;opacity:1;padding:0;font-weight:400;position:static;background:none;overflow:hidden;flex-direction:row}}@media (max-width:1299px){.navigation__wrapper .language-switcher{margin:20px 0 0}}@media (min-width:1300px){.navigation__wrapper{flex-grow:100}}.navigation__language-picker{margin-left:auto}.navigation__toggle{z-index:3;position:absolute;top:0;right:0;width:50px;height:40px;cursor:pointer;border:none;background:none;outline:none;border-radius:4px}@media (min-width:1300px){.navigation__toggle{display:none}}.navigation__mobile-logo{display:none}.navigation__toggle-icon{top:8px;left:10px}.navigation__toggle-icon,.navigation__toggle-icon:after,.navigation__toggle-icon:before{position:absolute;width:30px;height:3px;transition:all .3s ease;border-radius:4px;background-color:#33332d}.navigation__toggle-icon:after,.navigation__toggle-icon:before{content:"";display:block}.navigation__toggle-icon:before{top:10px}.navigation__toggle-icon:after{top:20px}.is-open--navigation{overflow:hidden;height:100vh}.is-open--navigation .navigation{opacity:1;display:unset}.is-open--navigation .navigation:before{content:"";background-color:#e1e1e1;position:absolute;width:25px;height:25px;top:-3px;right:13px;transform:rotate(45deg)}.is-open--navigation .navigation__mobile-logo{display:block;width:30px;height:30px;position:absolute;top:47px;left:5%}@media (min-width:1300px){.is-open--navigation .navigation__mobile-logo{display:none}}.is-open--navigation .navigation__toggle-icon{transform:translate3d(0,10px,0) rotate(45deg)}.is-open--navigation .navigation__toggle-icon,.is-open--navigation .navigation__toggle-icon:after,.is-open--navigation .navigation__toggle-icon:before{background:#33332d}.is-open--navigation .navigation__toggle-icon:before{transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);opacity:0}.is-open--navigation .navigation__toggle-icon:after{transform:translate3d(0,-19px,0) rotate(-90deg)}.navigation__item{margin:22px 0;white-space:nowrap}.navigation__item:first-of-type{margin:0 0 22px}.navigation__item:last-of-type{margin:22px 0 0}@media (min-width:1300px){.navigation__item{margin:0 30px;padding:0!important}.navigation__item:first-of-type{margin:0 30px 0 2rem}.navigation__item:last-of-type{margin:0 0 0 30px}}.LanguagePicker-module--select--364N3{padding:3px 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #33332d;border-radius:5px;color:inherit;background-color:#fff;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23333333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 6px center;background-size:16px 12px;width:6.5rem}.SvgIcon-module--svgIcon--1nGJ6{-webkit-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;flex-shrink:0;font-size:1.5rem}.SrOnly-module--srOnly--2Hn2L{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.SearchLink-module--searchLink--2IShR{margin-left:auto;border-radius:4px;padding:4px;display:inline-flex}.SearchLink-module--searchLink--2IShR:hover{background-color:#33332d;color:#fff}.triple-border{position:relative;padding:2px;border-radius:5px 0;transition:color .1s ease-in-out,background-color .1s ease-in-out}.triple-border:after,.triple-border:before{z-index:2;content:"";border:2px solid #33332d;border-radius:5px;position:absolute;width:calc(100% + 5px);height:calc(100% + 5px)}.triple-border:before{left:0;top:0}.triple-border:after{bottom:0;right:0}.triple-border__container{position:relative;overflow:hidden;border-radius:3px 0}.triple-border--large-margin{margin:13px;padding:3px}.triple-border--large-margin:after,.triple-border--large-margin:before{content:"";border-width:3px;border-radius:13px;width:calc(100% + 13px);height:calc(100% + 13px)}.triple-border--large-margin .triple-border__container{border-radius:10px 0}.triple-border__logo{padding:.2rem;font-size:1.111rem;font-weight:600}.triple-border__return-tasks{font-size:.9rem;padding:1rem .2rem}.image__content{position:absolute;top:0;left:0;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image--contain .image__content{-o-object-fit:contain;object-fit:contain}.image{overflow:hidden;width:100%;position:relative}@media (min-width:992px){.image{width:40%}}.image .image__container{height:0;position:relative;width:100%;padding-bottom:89.0625%}.image--circle{border-radius:50%}.image--circle .image__content{background-color:#e1e1e1}.image--square-big{width:100%}.image--square-big .image__container{width:100%;padding-bottom:100%}.image--extra-small{width:8%}.image--extra-small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--extra-small{width:calc(33.33333% - 1rem)}}.image--small{width:15%}.image--small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--small{width:calc(33.33333% - 1rem)}}.image--medium{width:50%}.image--medium .image__container{width:100%;padding-bottom:71.25%}.image--large{width:100%}@media (min-width:992px){.image--large{width:60%}}.image--large .image__container{padding-bottom:59.37%;width:100%}.image--full-width{width:100%}.image--full-width .image__container{padding-bottom:59.37%;width:100%}.image--actual-size{width:100%}.image--actual-size .image__container{height:0;position:relative;width:100%;padding-bottom:60%}.form p{font-family:IBM Plex Sans,monospace;font-size:.9rem;margin-bottom:10px}.form input{padding:1rem;border:1px solid #e1e1e1;outline:0}.form input:focus{border:1px solid #33332d}.form .submit{border:3px solid #33332d;background-color:#e1e1e1;padding:.7rem 2rem}.form .submit:hover{cursor:pointer;background-color:#33332d;color:#fff}.developer-story__image{margin-bottom:auto}.developer-story__name{margin-top:4rem;font-size:1.2rem}.developer-story__title{font-size:.9rem}.developer-story__read-more{margin-top:2rem;line-height:1.1rem;width:auto;background:none;color:inherit;padding:0!important;border:none;border-bottom:2px solid #e1e1e1;cursor:pointer}.developer-story__read-more:hover{background-color:#e1e1e1}.some-logo__link{margin:1rem 1rem 0 0;display:inline-block}.some-logo__image{width:1.5rem;height:1.5rem;margin:0}#footer{margin-top:auto}@media (min-width:992px){#footer{align-items:center}}#footer a:hover{background-color:transparent!important}#footer .footer__navigation{display:none}@media (max-width:1299px){#footer .footer__navigation{width:100%;display:block}#footer .footer__navigation-link-container{display:flex;flex-direction:column}}#footer .footer__navigation-link{font-size:1rem;line-height:18px;white-space:nowrap;font-family:IBM Plex Sans,monospace;margin-left:0!important;margin-right:auto}@media (max-width:639px){#footer .footer__navigation-link{line-height:8px}}#footer .footer__navigation-link:hover{color:#fff!important;background-color:#33332d!important}#footer .footer__navigation-link:nth-of-type(n+2){margin-top:2.142rem}@media (min-width:1300px){#footer .footer__navigation{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end}#footer .footer__navigation-link{margin-top:0!important;margin-bottom:auto}#footer .footer__navigation-link:nth-of-type(n+1){margin-right:2.877rem}#footer .footer__navigation-link:last-of-type{margin-right:0!important}}.prev-next__container .separator{display:none}@media (max-width:639px){.prev-next__container .separator{display:block;background-color:#33332d;width:2px!important}}.prev-next__container .prev b,.prev-next__container .prev p{text-align:right}@media (max-width:639px){.prev-next__container .prev p:before{content:"<";margin-right:1rem}}@media (max-width:639px){.prev-next__container .next p:after{content:">";margin-left:1rem}}.scroll-navigation-container{display:none}@media (min-width:992px){.scroll-navigation-container{pointer-events:none;display:block;font-size:16px;position:-webkit-sticky;position:sticky;width:100%;margin-right:-100%;left:0;top:-100px;padding-top:200px}}.scroll-navigation-container-inner{width:90%;margin:0 auto;max-width:1200px}.scroll-navigation{pointer-events:auto;display:flex;width:30%;max-width:30%/.9;height:100%;overflow-y:auto;max-height:calc(100vh - 100px);padding-right:1rem;z-index:199}.scroll-navigation li{list-style-type:none}.scroll-navigation li.selected a,.scroll-navigation li:hover a{background-color:#33332d;color:#fff!important}.scroll-navigation li:before{content:"-"}.left-navigation-link{padding-left:1.2rem;text-indent:-1.2rem;display:block}.left-navigation-link:hover{background-color:#33332d!important;color:#fff!important}.level-h1{font-weight:700;padding-left:2.8rem;text-indent:-2.8rem}.level-h2{padding-left:1.6rem;text-indent:-1.6rem}.sub-header{color:#33332d;font-family:IBM Plex Mono,monospace;padding-bottom:1.357rem}@media (min-width:992px){.sub-header{padding-bottom:2.333rem}}.InputField-module--inputField--3oXh5{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;border:0;font-family:inherit;padding:16px 12px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.3);color:#000;transition:all .15s ease}.InputField-module--inputField--3oXh5:hover{box-shadow:inset 0 -2px 0 rgba(0,0,0,.4)}.InputField-module--inputField--3oXh5:focus{outline:none;box-shadow:inset 0 -2px 0 rgba(0,0,0,.5)}</style><meta name="generator" content="Gatsby 2.30.1"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">Fullstack part9 | </title><meta data-react-helmet="true" name="description" content=""/><meta data-react-helmet="true" property="og:title" content="Fullstack part9 | "/><meta data-react-helmet="true" property="og:description" content=""/><meta data-react-helmet="true" name="og:image" content="/static/seo_image-939e8e249cf62a835ed560f6da4200ad.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Houston Inc. Consulting oy"/><meta data-react-helmet="true" name="twitter:title" content="Fullstack part9 | "/><meta data-react-helmet="true" name="twitter:description" content=""/><meta data-react-helmet="true" name="twitter:image" content="/static/seo_image-939e8e249cf62a835ed560f6da4200ad.jpg"/><meta data-react-helmet="true" name="google-site-verification" content="ds9pQKiK3kjhRSHHbf5ccoG-oJggn7Lq4A8uHxM3Mkw"/><meta data-react-helmet="true" name="keywords" content="fullstack, Full stack -websovelluskehitys, course, helsingin yliopisto, tietojenkäsittelytieteen osasto, mooc, mooc.fi, full stack, full stack open, web-sovelluskehitys, web, houston, houston inc, websovelluskehitys, web-sovellus, React, Redux, Node.js, Node, MongoDB, GraphQL, REST, REST api, single page -sovellus, ohjelmointi, university of helsinki, department of computer science, web development, software development, web, web application, single page app, programming, "/><link rel="icon" href="/favicon-32x32.png?v=6460c405ec32c913ef778f48c5ab192e" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#e1e1e1"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="canonical" href="https://fullstackopen.com/es/part9/escribiendo_la_aplicacion_express" data-baseprotocol="https:" data-basehost="fullstackopen.com"/><link as="script" rel="preload" href="/5d7a54886b2742230021cc39eab839038eb7a677-aad1a805ee4596e9a838.js"/><link as="script" rel="preload" href="/framework-bb9bb9cb9df99aee3258.js"/><link as="script" rel="preload" href="/app-ef8bef0e206781be83c1.js"/><link as="script" rel="preload" href="/component---src-templates-content-template-js-a9cde9440b7a4e0a5638.js"/><link as="script" rel="preload" href="/ff8e348e8d42e8d61f84312613c75c948ce81396-bbc0c43404e43e967ab7.js"/><link as="script" rel="preload" href="/e4b9374bcd292c90587e3ccf579324c3065ac22f-63f0a03f893b4902fedd.js"/><link as="script" rel="preload" href="/30844a71ec80b1e82ad30323d06b914984ff6c2b-9847aef7af5bdcc218fe.js"/><link as="script" rel="preload" href="/commons-2f51cc50765e604cbb43.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/webpack-runtime-a7eee694451a048fe190.js"/><link as="fetch" rel="preload" href="/page-data/es/part9/escribiendo_la_aplicacion_express/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3128451518.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="main-wrapper"><div class="header " style="background-color:white"><div class="container" style="align-items:center;justify-content:flex-start"><a class="header__logo" href="/"><div class="triple-border nav-item-hover " style="padding:0.2em"><div class="triple-border__container triple-border__logo" style="background-color:transparent;z-index:10">{() =&gt; fs}</div></div></a><div class="navigation__wrapper "><button aria-label="Navigation menu" aria-expanded="false" class="navigation__toggle"><div class="navigation__toggle-icon"></div></button><nav><ul class="navigation"><li class="navigation__item "><a class="nav-item-hover" href="/es/about">Acerca del curso</a></li><li class="navigation__item "><a class="nav-item-hover" href="/es/#course-contents">Contenido del curso</a></li><li class="navigation__item "><a class="nav-item-hover" href="/es/faq">Preguntas frecuentes</a></li><li class="navigation__item "><a class="nav-item-hover" href="/es/companies">Partners</a></li><select class="navigation__language-picker LanguagePicker-module--select--364N3"><option value="fi">Suomi</option><option value="en">English</option></select></ul></nav></div></div></div><div class="course-container spacing--after"><div class="banner part-main__banner spacing--mobile--small" style="background-image:url(/static/ed8ae98c5d885b4d1928a681eefbe7c4/part-9.svg);background-color:#D4FCB5"><div class="container spacing--after"><div class="col-10 spacing--after"><div class="arrow__container arrows--horizontal breadcrumb"><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#D4FCB5;color:#33332d"><a href="/es/#course-contents">Fullstack</a></div><div class="arrow__point " style="background-color:#D4FCB5;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#D4FCB5;color:#33332d"><a href="/es/part9">Part 9</a></div><div class="arrow__point " style="background-color:#D4FCB5;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#33332d;color:white">Escribiendo la aplicación express</div><div class="arrow__point " style="background-color:#33332d;color:white"></div></div></div></div></div></div><div class="course "><div class="scroll-navigation-container "><div class="scroll-navigation-container-inner "><div class="scroll-navigation  element--column" tag="ul"><a class="left-navigation-link" style="border-color:#D4FCB5" href="/es/part9/antecedentes_e_introduccion">a Antecedentes e introducción</a><a class="left-navigation-link" style="border-color:#D4FCB5" href="/es/part9/primeros_pasos_con_typescript">b Primeros pasos con Typescript</a><div class="accordion__container col-8 push-right-1 accordion--side-navigation"><button class="accordion accordion__title  " style="background-color:#D4FCB5;border-color:#D4FCB5">c Escribiendo la aplicación express</button><div class="panel" style="padding:;max-height:0;transition:max-height 0.2s ease-out"><ul></ul></div></div><a class="left-navigation-link" style="border-color:#D4FCB5" href="/es/part9/react_con_tipos">d React con tipos</a></div></div></div><div class="course-content-container "><div class="course-content element--auto-bottom-margin"><div class="course-content-inner "><p class="col-1 letter" style="border-color:#D4FCB5">c</p><h1 class="sub-header ">Escribiendo la aplicación express</h1></div></div><div class="course-content "><div class="course-content-inner ">
<p>Ahora que tenemos una comprensión básica de cómo funciona TypeScript y cómo crear pequeños proyectos con él, es hora de comenzar a crear algo realmente útil. Ahora vamos a crear un nuevo proyecto con casos de uso un poco más realistas en mente.</p>
<p>Un cambio importante con respecto a la parte anterior es que <i>ya no usaremos ts-node</i>. Es una herramienta útil y le ayuda a empezar, pero a largo plazo es recomendable utilizar el compilador oficial de TypeScript que viene con el paquete npm de <i>typescript</i>. El compilador oficial genera y empaqueta archivos JavaScript a partir de los archivos .ts para que la <i>versión de producción</i> construida ya no contenga ningún código TypeScript. Este es el resultado exacto al que aspiramos, ya que TypeScript en sí no es ejecutable por navegadores o Node.</p>
<h3>Configurando el proyecto</h3>
<p>Crearemos un proyecto para Ilari, a quien le encanta volar aviones pequeños pero tiene dificultades para gestionar su historial de vuelos. Él mismo es bastante coder, por lo que no necesita necesariamente una interfaz de usuario, pero le gustaría usar el software con solicitudes HTTP y conservar la posibilidad de agregar más tarde una interfaz de usuario basada en web a la aplicación.</p>
<p>Comencemos por crear nuestro primer proyecto real &#x27;Diarios de vuelo de Ilari&#x27;. Como de costumbre, ejecute <i>npm init</i> e instale el paquete de <i>typescript</i>.</p>
<p>El compilador <i>tsc</i> nativo de TypeScript puede ayudarnos a inicializar nuestro proyecto con el comando <i>tsc --init</i>. Primero debemos agregar el comando <i>tsc</i> a la lista de scripts ejecutables en el archivo package.json (a menos que haya instalado <i>typescript</i> globalmente).
Incluso si ha instalado TypeScript a nivel global, siempre debe incluirlo como una dependencia de desarrollo en su proyecto.</p>
<p>El script npm para ejecutar <i>tsc</i> se establece de la siguiente manera:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token comment">// ..</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ..</span>
<span class="token punctuation">}</span></code></pre></div>
<p>A menudo, el comando <i>tsc</i> simple se agrega a los scripts para que lo usen otros scripts, por lo que es común ver el comando <i>tsc</i> configurado dentro del proyecto de esta manera.</p>
<p>Ahora podemos inicializar nuestra configuración tsconfig.json ejecutando:</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh"> npm run tsc -- --init</code></pre></div>
<p><strong>Tenga en cuenta</strong> el extra -- ¡antes del argumento real! Los argumentos antes de -- se interpretan para el comando <i>npm</i> y los posteriores son para el comando que se ejecuta a través del script.</p>
<p>La ejecución del script crea un archivo <i>tsconfig.json</i>, que contiene una lista larga de todas las configuraciones disponibles para nosotros. Sin embargo, solo unos pocos no han sido comentados.
Estudiar el archivo <i>tsconfig.json</i> inicial puede ser útil para encontrar algunas opciones de configuración que pueda necesitar.
También está completamente bien mantener las filas comentadas en el archivo en caso de que algún día necesite expandir sus ajustes de configuración.</p>
<p>La configuración que queremos ahora mismo es la siguiente:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./build/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Repasemos cada configuración:</p>
<p>La configuración <i>target</i> le dice al compilador qué versión de ECMAScript usar para el JavaScript generado. ES6 es compatible con la mayoría de los navegadores y es una opción buena y bastante segura.</p>
<p><i>outDir</i> indica dónde debe colocarse el código compilado.</p>
<p><i>module</i> le dice al compilador que queremos usar los módulos de <i>commonjs</i> en el código compilado. Esto significa que podemos usar <em>require</em> en lugar de <em>import</em>, que no es compatible con versiones anteriores de Node.js, como la versión 10.</p>
<p><i>strict</i> es en realidad una abreviatura de varias opciones independientes:</p>
<p><i>noImplicitAny, noImplicitThis, alwaysStrict, strictBindCallApply, strictNullChecks, strictFunctionTypes y strictPropertyInitialization</i>.
Estos guían nuestro estilo de codificación para usar las funciones de TypeScript de manera más estricta.
Para nosotros quizás el más importante sea el que ya hemos visto <a href="https://www.staging-typescript.org/tsconfig#noImplicitAny">noImplicitAny</a>. Impide establecer implícitamente el tipo <i>any</i>, lo que puede suceder si no escribe los parámetros de una función, por ejemplo.
Los detalles del resto de las configuraciones se pueden encontrar en la <a href="https://www.staging-typescript.org/tsconfig#strict">documentación de tsconfig</a>. El uso de <i>strict</i> es sugerido por la documentación oficial.</p>
<p><i>noUnusedLocals</i> evita tener variables locales sin usar, y <i>noUnusedParameters</i> arroja un error si una función tiene parámetros sin usar.</p>
<p><i>noFallthroughCasesInSwitch</i> asegura que en un <em>switch case</em> cada caso termina con una declaración <em>return</em> o <em>break</em>.</p>
<p><i>esModuleInterop</i> permite la interoperabilidad entre los módulos commonJS y ES; consulte más en la <a href="https://www.staging-typescript.org/tsconfig#esModuleInterop">documentación</a>.</p>
<p>Ahora que tenemos nuestra configuración preferida, continuemos instalando <i>express</i> y, por supuesto, también <i>@types/express</i>. Dado que este es un proyecto real, que está destinado a crecer con el tiempo, usaremos eslint desde el principio:s</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh">npm install express
npm install --save-dev eslint @types/express @typescript-eslint/eslint-plugin @typescript-eslint/parser</code></pre></div>
<p>Ahora nuestro <i>package.json</i> debería verse así:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ilaris-flight-diaries&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.ts&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@types/express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/eslint-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.17.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.17.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.8.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.7.5&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>También creamos <i>.eslintrc</i> con el siguiente contenido:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:@typescript-eslint/recommended-requiring-type-checking&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;es6&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@typescript-eslint/semi&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/explicit-function-return-type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/no-unused-vars&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">&quot;argsIgnorePattern&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^_&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token property">&quot;@typescript-eslint/no-explicit-any&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;no-case-declarations&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;project&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tsconfig.json&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ahora solo necesitamos configurar nuestro entorno de desarrollo y estamos listos para comenzar a escribir código serio.
Hay muchas opciones diferentes para esto. Podríamos usar el conocido <i>nodemon</i> con <i>ts-node</i>, pero como vimos anteriormente, ts-node-dev hace exactamente lo mismo y podemos continuar usándolo. Entonces, instalemos ts-node-dev</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh">npm install --save-dev ts-node-dev</code></pre></div>
<p>Y estamos listos para comenzar a escribir algo de código después de definir un par de scripts npm más:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-node-dev index.ts&quot;</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --ext .ts .&quot;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Hay muchas cosas por las que pasar antes de que pueda comenzar la codificación real. Cuando se trabaja con un proyecto real, los preparativos cuidadosos respaldan en gran medida su proceso de desarrollo.
Tómese el tiempo para crear un buen escenario para usted y su equipo para que, a la larga, todo funcione sin problemas.</p>
<h3>Que haya código</h3>
<p>¡Ahora finalmente podemos empezar a codear! Como siempre, comenzamos creando un ping-endpoint, solo para asegurarnos de que todo esté funcionando.</p>
<p>El contenido del archivo <i>index.ts</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/ping&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;someone pinged here&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;pong&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Ahora, si ejecutamos la aplicación con <i>npm run dev</i>, podemos verificar que una solicitud a <a href="http://localhost:3000/ping">http://localhost:3000/ping</a> da una respuesta <i>pong</i>, ¡así que nuestra configuración está lista!</p>
<p>Al iniciar la aplicación con <i>npm run dev</i>, se ejecuta en modo de desarrollo.
El modo de desarrollo no es adecuado en absoluto cuando luego operamos la aplicación en producción.</p>
<p>Intentemos crear una <i>compilación de producción</i> ejecutando el compilador de TypeScript. Dado que hemos definido el <i>outdir</i> en nuestro tsconfig.json, realmente no hay nada más que hacer que ejecutar el script <i>npm run tsc</i>.</p>
<p>Al igual que por arte de magia, se crea una compilación de producción de JavaScript ejecutable nativa del backend express en la <i>compilación</i> del directorio.</p>
<p>Actualmente, si ejecutamos eslint, también interpretará los archivos en el directorio de <i>compilación</i>. No queremos eso, ya que el código es generado por el compilador. Podemos evitar esto creando un archivo <i>.eslintignore</i> que enumere el contenido que queremos que eslint ignore, tal como lo hacemos con git y <i>gitignore</i>.</p>
<p>Agreguemos un script npm para ejecutar la aplicación en modo de producción:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-node-dev index.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --ext .ts .&quot;</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node build/index.js&quot;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Cuando ejecutamos la aplicación con <i>npm start</i>, podemos verificar que también funciona la compilación de producción</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/863bc762b6f7599c221ee3dc4b35cbc6/5a190/15a.png"/></picture>
<p>Ahora tenemos una cartera de trabajo mínima para desarrollar nuestro proyecto.
Con la ayuda de nuestro compilador y eslint, también asegura que se mantenga una buena calidad de código. Con esta base, podemos comenzar a crear una aplicación que luego podríamos implementar en un entorno de producción.</p>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Ejercicios 9.8.-9.9.</h3>
<p><strong>Antes de comenzar los ejercicios</strong></p>
<p>Para este conjunto de ejercicios, desarrollará un backend para un proyecto existente llamado <i>Patientor</i>, que es una aplicación simple de registro médico para médicos que manejan diagnósticos e información básica de salud de sus pacientes.</p>
<p>El <a href="https://github.com/fullstack-hy2020/patientor">frontend</a> ya ha sido creado por expertos externos y su tarea es crear un backend para admitir el código existente.</p>
<h4>9.8: Patientor backend, paso 1</h4>
<p>Inicialice el proyecto que será utilizado por el frontend. Configure eslint y tsconfig con las mismas configuraciones que se utilizan en el material. Defina un endpoint que responda a las solicitudes HTTP GET para enrutar <i>/ping</i>.</p>
<p>El proyecto debería poder ejecutarse con scripts npm tanto en modo de desarrollo como código compilado en modo de producción.</p>
<h4>9.8: Patientor backend, paso</h4>
<p>Haz un fork y clone el proyecto <a href="https://github.com/fullstack-hy2020/patientor">patientor</a>. Inicie el proyecto con la ayuda del archivo README. Debería poder usar el frontend sin un backend que funcione.</p>
<p>Asegúrese de que el backend responda a la solicitud de ping que el frontend ha realizado al inicio. Verifique la herramienta para desarrolladores para asegurarse de que realmente funcione:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/ecb7fbc31d1698f2ba09ee2ee77a4982/5a190/16a.png"/></picture>
<p>Es posible que también desee echar un vistazo a la pestaña <i>console<i>. Si algo falla, la <a href="/es/part3">parte 3</a> del curso muestra cómo se puede resolver el problema.</i></i></p>
</div></div></div>
<div class="course-content "><div class="course-content-inner ">
<h3>Implementando la funcionalidad</h3>
<p>Finalmente estamos listos para empezar a escribir código.</p>
<p>Empecemos por lo básico. Ilari quiere poder realizar un seguimiento de sus experiencias en sus viajes aéreos.</p>
<p>Quiere poder guardar las entradas del diario que contengan:</p>
<ul>
<li>La fecha de la entrada</li>
<li>Condiciones meteorológicas (good, windy, rainy or stormy)(bueno, ventoso, lluvioso o tormentoso)</li>
<li>Visibilidad (good, ok or poor)(buena, regular o mala)</li>
<li>Texto libre detallando la experiencia</li>
</ul>
<p>Hemos obtenido algunos datos de muestra, que utilizaremos como base para construir.
Los datos se guardan en formato json y se pueden encontrar <a href="https://github.com/fullstack-hy2020/misc/blob/master/diaryentries.json">aquí</a>.</p>
<p>Los datos tienen el siguiente aspecto</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-01-01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rainy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poor&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Pretty scary flight, I&#x27;m glad I&#x27;m alive&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-04-01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sunny&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;good&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Everything went better than expected, I&#x27;m learning much&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span></code></pre></div>
<p>Comencemos por crear un endpoint que devuelva todas las entradas del diario de vuelo.</p>
<p>Primero necesitamos tomar algunas decisiones sobre cómo estructurar nuestro código fuente. Es mejor colocar todo el código fuente en el directorio <i>src</i>, para que el código fuente no se mezcle con los archivos de configuración.
Nos trasladaremos <i>index.ts</i> allí y hacer los cambios necesarios a los scripts npm.</p>
<p>Colocaremos todos los <a href="/es/part4/structure_of_backend_application_introduction_to_testing">routers</a>, módulos que se encargan de manejar un conjunto de recursos específicos como <i>diaries</i>, bajo el directorio <i>src/routes</i>.
Esto es un poco diferente a lo que hicimos en la <a href="/es/part4">parte 4</a>, donde usamos el directorio <i>src/controllers</i>.</p>
<p>El router que se encarga de todos los endpoints del diario está en <i>src/routes/diaries.ts</i> y tiene este aspecto:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;Fetching all diaries!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;Saving a diary!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre></div>
<p>Enrutaremos todas las solicitudes al prefijo <i>/api/diaries</i> a ese router específico en <em>index.ts</em></p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> diaryRouter <span class="token keyword">from</span> <span class="token string">&#x27;./routes/diaries&#x27;</span><span class="token punctuation">;</span></span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/ping&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;someone pinged here&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;pong&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/diaries&#x27;</span><span class="token punctuation">,</span> diaryRouter<span class="token punctuation">)</span><span class="token punctuation">;</span></span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Y ahora, si hacemos una solicitud HTTP GET a <a href="http://localhost:3000/api/diaries">http://localhost:3000/api/diaries</a>, deberíamos ver el mensaje <i>Fetching all diaries!</i>.</p>
<p>A continuación, debemos comenzar a servir los datos (que se encuentran <a href="https://github.com/fullstack-hy2020/misc/blob/master/diaryentries.json">aquí</a>) desde la aplicación. Obtendremos los datos y los guardaremos en <i>data/diaries.json</i>.</p>
<p>No escribiremos el código para las manipulaciones de datos reales en el router. En su lugar, crearemos un <i>service</i> que se encargue de la manipulación de datos. Es una práctica bastante común separar la &quot;lógica empresarial&quot; del código del router en sus propios módulos, que a menudo se denominan <i>service</i>. El servicio de nombres se origina en un <a href="https://en.wikipedia.org/wiki/Domain-driven_design">diseño impulsado por dominios</a> y se hizo popularcon el framework <a href="https://spring.io/">Spring</a>.</p>
<p>Vamos a crear un <i>src/services</i> de directorio y coloquemos el archivo <i>diaryService.ts</i> en él.
El archivo contiene dos funciones para buscar y guardar entradas del diario:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaryData <span class="token keyword">from</span> <span class="token string">&#x27;../../data/diaries.json&#x27;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getEntries</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaryData<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Pero algo no esta bien</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/884eed5d4bb95087f3a48f39769a9a0d/5a190/17c.png"/></picture>
<p>La sugerencia dice que podríamos querer usar <i>resolveJsonModule</i>. Agreguémoslo a nuestro tsconfig:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./build/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Y nuestro problema está resuelto.</p>
<blockquote>
<p><strong>NB</strong>: Por alguna razón, VSCode tiende a quejarse de que no puede encontrar el archivo <i>../../data/diaries.json</i> del servicio a pesar de que el archivo existe. Eso es un error en el editor y desaparece cuando se reinicia el editor.</p>
</blockquote>
<p>Anteriormente vimos cómo el compilador puede decidir el tipo de variable por el valor que se le asigna. De manera similar, el compilador puede interpretar grandes conjuntos de datos que constan de objetos y matrices. Debido a esto, el compilador puede advertirnos si intentamos hacer algo sospechoso con los datos json que estamos manejando. Por ejemplo, si estamos manejando un array que contiene objetos de un tipo específico, y tratamos de agregar un objeto que no tiene todos los campos que tienen los otros objetos, o tiene conflictos de tipos (por ejemplo, un número donde debería haber un string), el compilador puede darnos una advertencia.</p>
<p>Aunque el compilador es bastante bueno para asegurarse de que no hagamos nada no deseado, es más seguro definir los tipos de datos nosotros mismos.</p>
<p>Actualmente tenemos una aplicación básica de TypeScript express que funciona, pero apenas hay <i>typings</i> real en el código. Dado que sabemos qué tipo de datos deben aceptarse para los campos meteorológicos y de visibilidad, no hay razón para que no incluyamos sus tipos en el código.</p>
<p>Creemos un archivo para nuestros tipos, <i>types.ts</i>, donde definiremos todos nuestros tipos para este proyecto.</p>
<p>Primero, escriba los valores de <i>Weather</i>(clima) y <i>Visibility</i>(visibilidad) utilizando un <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types">union type</a> de las strings permitidas:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type Weather <span class="token operator">=</span> <span class="token string">&#x27;sunny&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;rainy&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;cloudy&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;windy&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;stormy&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> type Visibility <span class="token operator">=</span> <span class="token string">&#x27;great&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;good&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;ok&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;poor&#x27;</span><span class="token punctuation">;</span></code></pre></div>
<p>Y a partir de ahí podemos continuar creando un tipo DiaryEntry, que será un <a href="http://www.typescriptlang.org/docs/handbook/interfaces.html">interface</a>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DiaryEntry</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> number<span class="token punctuation">;</span>
  date<span class="token operator">:</span> string<span class="token punctuation">;</span>
  weather<span class="token operator">:</span> Weather<span class="token punctuation">;</span>
  visibility<span class="token operator">:</span> Visibility<span class="token punctuation">;</span>
  comment<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ahora podemos intentar escribir nuestro json importado:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaryData <span class="token keyword">from</span> <span class="token string">&#x27;../../data/diaries.json&#x27;</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> diaries<span class="token operator">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=</span> diaryData<span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> diaries<span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Pero dado que el json ya tiene sus valores declarados, asignar un tipo para el conjunto de datos da como resultado un error:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/4a4d7fc6b2c39423984646fd6830f0d8/5a190/19b.png"/></picture>
<p>El final del mensaje de error revela el problema: los campos <i>weather</i> son incompatibles. En <i>DiaryEntry</i> especificamos que su tipo es <i>Weather</i>, pero el compilador de TypeScript había inferido que su tipo era string .</p>
<p>Podemos solucionar el problema haciendo una <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions">afirmación de tipo</a>. Esto debe hacerse solo si estamos seguros de que sabemos lo que estamos haciendo. Si afirmamos que el tipo de la variable <i>diaryData</i> es <i>DiaryEntry</i> con la palabra clave <i>as</i>, todo debería funcionar:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaryData <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.json&#x27;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Weather<span class="token punctuation">,</span> Visibility<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> diaries<span class="token operator">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=</span> diaryData <span class="token keyword">as</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Nunca deberíamos usar la aserción de tipo a menos que no haya otra forma de proceder, ya que siempre existe el peligro de afirmar un tipo no apto para un objeto y causar un error de ejecución desagradable. Si bien el compilador confía en que sepa lo que está haciendo cuando usa <i>as</i>, al hacer esto, no estamos usando toda la potencia de TypeScript, sino que confiamos en el codificador para asegurar el código.</p>
<p>En nuestro caso, podríamos cambiar la forma en que exportamos nuestros datos para poder escribirlos dentro del archivo de datos. Dado que no podemos usar typings en un archivo JSON, deberíamos convertir el archivo json en un archivo ts que exporta los datos escritos así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../src/types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> diaryEntries<span class="token operator">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
      <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-01-01&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rainy&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poor&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;comment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Pretty scary flight, I&#x27;m glad I&#x27;m alive&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> diaryEntries<span class="token punctuation">;</span></code></pre></div>
<p>Ahora, cuando importamos el array, el compilador la interpreta correctamente y los campos <i>weather</i> y <i>visibility</i> se entienden correctamente:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">import</span> diaries <span class="token keyword">from</span> <span class="token string">&#x27;../../data/diaries&#x27;</span><span class="token punctuation">;</span></span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Tenga en cuenta que si queremos poder guardar entradas sin un campo determinado, por ejemplo, <i>comment</i>, podríamos establecer el tipo de campo como <a href="http://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties">opcional</a> agregando <i>?</i> a la declaración de tipo:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DiaryEntry</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> number<span class="token punctuation">;</span>
  date<span class="token operator">:</span> string<span class="token punctuation">;</span>
  weather<span class="token operator">:</span> Weather<span class="token punctuation">;</span>
  visibility<span class="token operator">:</span> Visibility<span class="token punctuation">;</span>
  comment<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Módulos de Node y JSON</h3>
<p>Es importante tomar nota de un problema que puede surgir al usar la opción tsconfig <a href="https://www.typescriptlang.org/en/tsconfig#resolveJsonModule">resolveJsonModule</a>:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>De acuerdo con la documentación del nodo para los <a href="https://nodejs.org/api/modules.html#modules_file_modules">módulos de archivo</a>, node intentará resolver los módulos en orden de extensiones:</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh"> [&quot;js&quot;, &quot;json&quot;, &quot;node&quot;]</code></pre></div>
<p>Además de eso, de forma predeterminada, <i>ts-node</i> y <i>ts-node-dev</i> amplían la lista de posibles extensiones de módulo de node a:</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh"> [&quot;js&quot;, &quot;json&quot;, &quot;node&quot;, &quot;ts&quot;, &quot;tsx&quot;]</code></pre></div>
<blockquote>
<p><strong>NB</strong>: La validez de los archivos <i>.js</i>, <i>.json</i> y <i>.node</i> como módulos en Typecript depende de la configuración del entorno, incluidas las opciones <i>tsconfig</i> como <i>allowJs</i> y <i>resolveJsonModule</i>.</p>
</blockquote>
<p>Considere una estructura de carpeta plana que contiene archivos:</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh">  ├── myModule.json
  └── myModule.ts</code></pre></div>
<p>En typescript, con la opción <i>resolveJsonModule</i> establecida en true, el archivo <i>myModule.json</i> se convierte en un módulo de nodo válido. Ahora, imagine un escenario en el que deseamos utilizar el archivo <i>myModule.ts</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> myModule <span class="token keyword">from</span> <span class="token string">&quot;./myModule&quot;</span><span class="token punctuation">;</span></code></pre></div>
<p>Mirando de cerca el orden de las extensiones de módulo de node:</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh"> [&quot;js&quot;, &quot;json&quot;, &quot;node&quot;, &quot;ts&quot;, &quot;tsx&quot;]</code></pre></div>
<p>Notamos que la extensión de archivo <i>.json</i> tiene prioridad sobre <i>.ts</i>, por lo que se importará <i>myModule.json</i> y no <i>myModule.ts</i>.</p>
<p>Para evitar errores, se recomienda que dentro de un directorio plano, cada archivo con una extensión de módulo de node válida tenga un nombre de archivo único.</p>
<h3>Tipos de utilidad</h3>
<p>A veces, es posible que deseemos utilizar una modificación específica de un tipo. Por ejemplo, considere una página para enumerar algunos datos, algunos de los cuales son confidenciales y otros no. Es posible que deseemos estar seguros de que no se utilizan ni se muestran datos sensibles. Podríamos elegir los campos de un tipo que permitamos que se utilicen para hacer cumplir esto. Podemos hacer eso usando el tipo de utilidad <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#picktk">Pick</a>.</p>
<p>En nuestro proyecto, deberíamos considerar que Ilari podría querer crear una lista de todas las entradas de su diario excluyendo el campo de comentarios, ya que durante un vuelo muy aterrador podría terminar escribiendo algo que no necesariamente querría mostrarle a nadie más.</p>
<p>El tipo de utilidad <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#picktk">Pick</a> nos permite elegir qué campos de un tipo existente queremos usar. Pick se puede utilizar para construir un tipo completamente nuevo o para informar a una función lo que debería devolver en tiempo de ejecución. Los tipos de utilidad son un tipo especial de herramientas de tipo, pero se pueden utilizar como los tipos normales.</p>
<p>En nuestro caso, para crear una versión &quot;censurada&quot; de <i>DiaryEntry</i> para pantallas públicas, podemos usar Pick en la declaración de función:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;date&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;weather&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;visibility&#x27;</span><span class="token operator">&gt;&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>y el compilador esperaría que la función devolviera un array de valores del tipo DiaryEntry modificado, que incluye solo los cuatro campos seleccionados.</p>
<p>Dado que <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#picktk">Pick</a> requiere que el tipo que modifica se proporcione como una <a href="http://www.typescriptlang.org/docs/handbook/generics.html#working-with-generic-type-variables">variable de tipo</a>, al igual que Array, ahora tenemos dos variables de tipo anidadas y la sintaxis está empezando a parecer un poco extraña. Podemos mejorar la legibilidad del código utilizando la sintaxis de array <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#array">alternativa</a>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Pick<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;date&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;weather&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;visibility&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>En este caso, queremos excluir solo un campo, por lo que aún mejor sería usar el tipo de utilidad <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#omittk">Omit</a>, que podemos usar para declarar qué campos excluir:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Omit<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;comment&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Otra forma sería declarar un tipo completamente nuevo para <i>NonSensitiveDiaryEntry</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type NonSensitiveDiaryEntry <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;comment&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></pre></div>
<p>El código ahora se convierte en</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaries <span class="token keyword">from</span> <span class="token string">&#x27;../../data/diaries&#x27;</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> NonSensitiveDiaryEntry<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> DiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> NonSensitiveDiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>  <span class="token keyword">return</span> diaries<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry<span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  getNonSensitiveEntries</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Una cosa en nuestra aplicación es motivo de preocupación. En <i>getNonSensitiveEntries</i> estamos devolviendo las entradas completas del diario, ¡y no se da ningún error a pesar de typing!</p>
<p>Esto sucede porque <a href="http://www.typescriptlang.org/docs/handbook/type-compatibility.html">TypeScript solo verifica</a> si tenemos todos los campos obligatorios o no, pero los campos en exceso no están prohibidos. En nuestro caso esto significa que <i>no está prohibido</i> devolver un objeto de tipo <i>DiaryEntry[]</i>, pero si intentáramos acceder al campo <i>comment</i>, no sería posible porque estaríamos accediendo a un campo que TypeScript desconoce incluso aunque existe.</p>
<p>Desafortunadamente, esto puede provocar un comportamiento no deseado si no es consciente de lo que está haciendo; la situación es válida en lo que respecta a TypeScript, pero lo más probable es que esté permitiendo un uso no deseado. Si ahora devolviéramos todos los diaryEntries de la función <i>getNonSensitiveEntries</i> al <i>frontend</i>, en realidad estaríamos filtrando los campos no deseados al navegador solicitante, ¡incluso aunque nuestros tipos parezcan implicar lo contrario!</p>
<p>Debido a que TypeScript no modifica los datos reales, sino solo su tipo, debemos excluir los campos nosotros mismos:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaries <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.js&#x27;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> NonSensitiveDiaryEntry<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span>

<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> DiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries
<span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> NonSensitiveDiaryEntry <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> diaries<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id<span class="token punctuation">,</span> date<span class="token punctuation">,</span> weather<span class="token punctuation">,</span> visibility <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    id<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    date<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    weather<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    visibility<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> <span class="token function-variable function">addDiary</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  getNonSensitiveEntries<span class="token punctuation">,</span>
  addDiary
<span class="token punctuation">}</span></code></pre></div>
<p>Si ahora intentamos devolver estos datos con el tipo básico <i>DiaryEntry</i>, es decir, si escribiéramos la función de la siguiente manera</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> DiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code></pre></div>
<p>obtendríamos el siguiente error:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/4cf0e3835086dc22ca9c00d89dabd716/5a190/22b.png"/></picture>
<p>Nuevamente, la última línea del mensaje de error es la más útil. Deshagamos esta modificación no deseada.</p>
<p>Los tipos de utilidades incluyen muchas herramientas útiles y definitivamente vale la pena tomarse un tiempo para estudiar <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">la documentación</a>.</p>
<p>Finalmente, podemos completar la ruta que devuelve todas las entradas del diario:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> diaryService <span class="token keyword">from</span> <span class="token string">&#x27;../services/diaryService&#x27;</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>diaryService<span class="token punctuation">.</span><span class="token function">getNonSensitiveEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;Saving a diary!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre></div>
<p>La respuesta es lo que esperamos que sea</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/2874edda399d6b828630de1496dbc188/5a190/26.png"/></picture>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Ejercicios 9.10.-9.11.</h3>
<p>De manera similar al servicio de vuelo de Ilari, no usamos una base de datos real en nuestra aplicación, sino que usamos datos codificados, es decir, en los archivos <a href="https://github.com/fullstack-hy2020/misc/blob/master/diagnoses.json">diagnoses.json</a> y <a href="https://github.com/fullstack-hy2020/misc/blob/master/patients.json">patients.json</a>. Obtenga los archivos y guárdelos en un directorio llamado <i>data</i> en su proyecto. Toda la modificación de datos se puede realizar en la memoria de ejecución, por lo que durante esta parte <i>no es necesario escribir en un archivo</i>.</p>
<h4>9.10: Patientor backend, paso 3</h4>
<p>Cree un tipo <i>Diagnose</i> y utilícelo para crear endpoint <i>/api/diagnoses</i> para obtener todos los diagnósticos con HTTP GET.</p>
<p>Estructura tu código correctamente utilizando directorios y archivos con nombres significativos.</p>
<p><strong>Tenga en cuenta</strong>  que los diagnósticos pueden contener o no el campo <i>latin</i>. Es posible que desee utilizar <a href="https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties">propiedades opcionales</a> en la definición de tipo.</p>
<h4>9.11: Patientor backend, paso</h4>
<p>Cree el tipo de dato <i>Patient</i> y configure un endpoint GET <i>/api/patients</i> que devuelva todos los pacientes al frontend, excluyendo el campo <i>ssn</i>. Utilice un <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">tipo de utilidad</a> para asegurarse de que está seleccionando y devolviendo solo los campos deseados.</p>
<p>En este ejercicio, puede asumir que el campo <i>gender</i> tiene el tipo <i>string</i>.</p>
<p>Pruebe el endpoint con el navegador y asegúrese de que <i>ssn</i> no esté incluido en la respuesta:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/bc4ce99035b5419acfa2d65698c5cb2d/5a190/22g.png"/></picture>
<p>Después de crear el endpoint, asegúrese de que el <i>frontend</i> muestre la lista de pacientes:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/c6b49beac1a640408462ec316e341d7e/5a190/22h.png"/></picture>
</div></div></div>
<div class="course-content "><div class="course-content-inner ">
<h3>Evitar un resultado undefined accidental</h3>
<p>Extendamos el backend para admitir la obtención de una entrada específica con una solicitud HTTP GET para enrutar <i>api/diaries/:id</i>.</p>
<p>El DiaryService debe ampliarse con la función <i>findById</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> findById <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">DiaryEntry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> entry <span class="token operator">=</span> diaries<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> entry<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  getNonSensitiveEntries<span class="token punctuation">,</span>
  addDiary<span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  findById</span><span class="token punctuation">}</span></code></pre></div>
<p>Pero una vez más, surge un nuevo problema:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/ffec5cdfddb4a1c59d7cab5702849a32/5a190/23e.png"/></picture>
<p>El problema es que no hay garantía de que se pueda encontrar una entrada con la identificación especificada. Es bueno que seamos conscientes de este problema potencial ya en la fase de compilación. Sin TypeScript no se nos advertiría sobre este problema y, en el peor de los casos, podríamos haber terminado devolviendo un objeto <i>undefined</i> en lugar de informar al usuario que no se ha encontrado la entrada especificada.</p>
<p>En primer lugar, en casos como este, debemos decidir cuál debe ser el <i>valor de retorno</i> si no se encuentra un objeto y cómo se debe manejar el caso. El método de búsqueda de una matriz devuelve indefinido si no se encuentra el objeto, y esto está bien para nosotros. Podemos resolver nuestro problema escribiendo el valor de retorno de la siguiente manera</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> findById <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> DiaryEntry <span class="token operator">|</span> <span class="token parameter"><span class="token keyword">undefined</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> entry <span class="token operator">=</span> diaries<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> entry<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>El controlador de ruta es el siguiente</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> diaryService <span class="token keyword">from</span> <span class="token string">&#x27;../services/diaryService&#x27;</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> diary <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>diary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>diary<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre></div>
<h3>Agregar un nuevo diario</h3>
<p>Comencemos a construir el endpoint HTTP POST para agregar nuevas entradas al diario de vuelo. Las nuevas entradas deben tener el mismo tipo que los datos existentes.</p>
<p>El manejo del código de la respuesta es el siguiente</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> date<span class="token punctuation">,</span> weather<span class="token punctuation">,</span> visibility<span class="token punctuation">,</span> comment <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">addEntry</span><span class="token punctuation">(</span>
    date<span class="token punctuation">,</span>
    weather<span class="token punctuation">,</span>
    visibility<span class="token punctuation">,</span>
    comment<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>El método correspondiente en <i>diaryService</i> se ve así</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>
  NonSensitiveDiaryEntry<span class="token punctuation">,</span>
  DiaryEntry<span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  Visibility<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  Weather</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> addEntry <span class="token operator">=</span> <span class="token punctuation">(</span>
    date<span class="token operator">:</span> string<span class="token punctuation">,</span> weather<span class="token operator">:</span> Weather<span class="token punctuation">,</span> visibility<span class="token operator">:</span> Visibility<span class="token punctuation">,</span> comment<span class="token operator">:</span> string
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">DiaryEntry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>diaries<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    date<span class="token punctuation">,</span>
    weather<span class="token punctuation">,</span>
    visibility<span class="token punctuation">,</span>
    comment<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  diaries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newDiaryEntry<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Como puede ver, la función <i>addDiary</i> se está volviendo bastante difícil de leer ahora que tenemos todos los campos como parámetros separados. Podría ser mejor simplemente enviar los datos como un objeto a la función:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> date<span class="token punctuation">,</span> weather<span class="token punctuation">,</span> visibility<span class="token punctuation">,</span> comment <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">addDiary</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>    date<span class="token punctuation">,</span>
    weather<span class="token punctuation">,</span>
    visibility<span class="token punctuation">,</span>
    comment<span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Pero espera, ¿cuál es el tipo de este objeto? No es exactamente una <i>DiaryEntry</i>, ya que todavía le falta el campo de <i>id</i>. Podría ser útil crear un nuevo tipo, <i>NewDiaryEntry</i>, para una entrada aún no guardada. Vamos a crearlo en <i>types.ts</i> usando el tipo <i>DiaryEntry</i> existente y el tipo de utilidad <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#omittk">Omit</a>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type NewDiaryEntry <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></pre></div>
<p>Ahora podemos usar el nuevo tipo en nuestro DiaryService y desestructurar el nuevo objeto de entrada al crear una entrada para guardar:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> NewDiaryEntry<span class="token punctuation">,</span> NonSensitiveDiaryEntry<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span><span class="token punctuation">;</span></span>
<span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> addDiary <span class="token operator">=</span> <span class="token punctuation">(</span> entry<span class="token operator">:</span> NewDiaryEntry <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">DiaryEntry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>diaries<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token operator">...</span>entry</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  diaries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newDiaryEntry<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>¡Ahora el código se ve mucho más limpio!</p>
<p>Para parsear los datos entrantes debemos tener configurado el middleware <i>json</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> diaryRouter <span class="token keyword">from</span> <span class="token string">&#x27;./routes/diaries&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/diaries&#x27;</span><span class="token punctuation">,</span> diaryRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>¡Ahora la aplicación está lista para recibir solicitudes HTTP POST para nuevas entradas del diario del tipo correcto!</p>
<h3>Solicitudes de revisión</h3>
<p>Hay muchas cosas que pueden salir mal cuando aceptamos datos de fuentes externas. Las aplicaciones rara vez funcionan completamente por sí solas y nos vemos obligados a vivir con el hecho de que no se puede confiar plenamente en los datos de fuentes externas a nuestro sistema. Cuando recibimos datos de una fuente externa, no hay forma de que ya estén escritos cuando los recibimos. Necesitamos tomar decisiones sobre cómo manejar la incertidumbre que viene con esto.</p>
<p>Express maneja el parsing del cuerpo de la solicitud afirmando el tipo <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#any">any</a> en todos los campos del cuerpo. En nuestro caso, esto no es evidente en el editor, pero si comenzamos a mirar las variables más de cerca y pasamos el cursor sobre cualquiera de ellas, podemos ver que cada una de ellas es de tipo <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#any">any</a>. El editor no se queja de ninguna manera cuando pasamos estos datos a la función <i>addDiary</i> como parámetros:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/991e3e29e34d9f6956d04d862f5b78f6/5a190/27.png"/></picture>
<p>El valor de tipo <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#an">any</a> puede asignarse a cualquier tipo de variable, ya que <i>podría ser</i> el tipo deseado. Definitivamente no es seguro confiar en esto, así que siempre verifique los valores entrantes (independientemente de si estamos usando TypeScript o no).</p>
<p>Podríamos simplemente agregar comprobaciones simples <i>exists</i> y <i>is-value-valid</i> a la función que define la ruta, es mejor escribir la lógica de parsing y validación en un archivo separado <i>utils.ts</i>.</p>
<p>Necesitamos definir una función <i>toNewDiaryEntry</i> que reciba el cuerpo de la solicitud como parámetro y devuelva un objeto <i>NewDiaryEntry</i> debidamente tipado. La definición de ruta usa la función de la siguiente manera</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">import</span> toNewDiaryEntry <span class="token keyword">from</span> <span class="token string">&#x27;../utils&#x27;</span><span class="token punctuation">;</span></span>
<span class="token comment">// ...</span>

router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> <span class="token function">toNewDiaryEntry</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> addedEntry <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">addDiary</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>addedEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Dado que ahora estamos creando un código seguro y tratando de asegurarnos de obtener exactamente los datos que queremos de las solicitudes, debemos comenzar a parsear y validar cada campo que esperamos recibir.</p>
<p>El esqueleto de la función <i>toNewDiaryEntry</i> se parece a lo siguiente:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> NewDiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./types&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> toNewDiaryEntry <span class="token operator">=</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">NewDiaryEntry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> newEntry<span class="token operator">:</span> NewDiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> newEntry<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> toNewDiaryEntry<span class="token punctuation">;</span></code></pre></div>
<p>La función debe parsear cada campo y asegurarse de que el valor de retorno sea exactamente del tipo <i>NewDiaryEntry</i>. Esto significa que debemos verificar cada campo por separado.</p>
<p>Una vez más tenemos un problema de tipo: ¿cuál es el tipo de <i>objeto</i>? Dado que el <i>objeto</i> es de hecho el cuerpo de una solicitud, Express lo ha escrito como <i>any</i>. Dado que la idea de esta función es mapear campos de tipo desconocido a campos del tipo correcto y verificar si están definidos como se espera, este podría ser el caso poco común en el que realmente <i>queramos permitir el tipo <i>any</i> </i>.</p>
<p>Sin embargo, si escribimos el objeto como <i>any</i>, eslint nos da una queja:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/3fe6ce7c383db627063b023872c7e86b/5a190/24e.png"/></picture>
<p>Esto se debe a la regla de eslint <a href="https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/no-explicit-any.md">no-explicit-any</a> que nos impide establecer explícitamente el tipo en <i>any</i>. En general, esta es una buena regla y no es deseada solo en este archivo en particular. Podemos permitir el uso de <i>any</i> en este archivo deshabilitando la regla eslint en el archivo. Esto sucede agregando la siguiente línea al archivo:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token comment">/* eslint-disable @typescript-eslint/no-explicit-any */</span></code></pre></div>
<p>Comencemos a crear los parsers para cada uno de los campos del <i>objecti</i>.</p>
<p>Para validar el campo <i>comment</i>, debemos verificar que exista y asegurarnos de que sea del tipo <i>string</i>.</p>
<p>La función debería verse así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> parseComment <span class="token operator">=</span> <span class="token punctuation">(</span>comment<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>comment <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isString</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing comment: &#x27;</span> <span class="token operator">+</span> comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> comment<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La función obtiene un parámetro de tipo <i>any</i> y lo devuelve como tipo <i>string</i> si existe y es del tipo correcto.</p>
<p>La función de validación de string se ve así</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> text is <span class="token parameter">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> text <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span> <span class="token operator">||</span> text <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>La función es un <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards">tipo de protección</a>. Eso significa que es una función que devuelve un booleano <i>y</i> que tiene un <i>predicado</i> de tipo como tipo de retorno. En nuestro caso, el tipo de predicado es</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">text is string</code></pre></div>
<p>La forma general de un predicado de tipo es <em>parameterName is Type</em> donde el <em>parameterName</em> es el nombre del parámetro de función y <em>Type</em> es el tipo de destino.</p>
<p>Si la función de protección de tipos devuelve verdadero, el compilador de TypeScript sabe que la variable probada tiene el tipo que se definió en el predicado de tipo.</p>
<p>Antes de que se llame al tipo de protección, el tipo real de la variable <i>comment</i> no se conoce:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/e13ea2afa7dd8df1628a901d42a1b4e2/5a190/28e.png"/></picture>
<p>Pero después de la llamada, si el código pasa de la excepción (es decir, el tipo guard devuelto verdadero), el compilador sabe que <i>comment</i> es del tipo <i>string</i>:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/18cf1ac37d9cee7ac1eb22a58e268045/5a190/29e.png"/></picture>
<p>¿Por qué tenemos dos condiciones en la protección de tipo de string?</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> text is <span class="token parameter">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> <span class="token keyword">typeof</span> text <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span> <span class="token operator">||</span> text <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span></code></pre></div>
<p>¿No sería suficiente escribir la protección así?</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> text is <span class="token parameter">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> text <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Lo más probable es que la forma más simple sea lo suficientemente buena para todos los propósitos prácticos. Sin embargo, si queremos estar absolutamente seguros, se necesitan ambas condiciones. Hay dos formas diferentes de crear objetos de strings en JavaScript que funcionan de manera un poco diferente con respecto a los operadores <i>typeof</i> e <i>instanceof</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">&quot;I&#x27;m a string primitive&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;I&#x27;m a String Object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> a<span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token string">&#x27;string&#x27;</span>
<span class="token keyword">typeof</span> b<span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token string">&#x27;object&#x27;</span>
a <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token boolean">false</span>
b <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token boolean">true</span></code></pre></div>
<p>Sin embargo, es poco probable que alguien cree un string con una función de constructor. Lo más probable es que la versión más simple de la protección de tipos esté bien.</p>
<p>A continuación, consideremos el campo <i>date</i>. Parsear y validar el objeto date es bastante similar a lo que hicimos con los comentarios. Dado que TypeScript realmente no conoce un tipo para una fecha, debemos tratarlo como un <i>string</i>. Sin embargo, deberíamos seguir utilizando la validación de nivel de JavaScript para comprobar si el formato de fecha es aceptable.</p>
<p>Agregaremos las siguientes funciones</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isDate <span class="token operator">=</span> <span class="token punctuation">(</span>date<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">boolean</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> parseDate <span class="token operator">=</span> <span class="token punctuation">(</span>date<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>date <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isString</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isDate</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing date: &#x27;</span> <span class="token operator">+</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> date<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>El código no es nada especial. Lo único es que no podemos usar un tipo de protección aquí ya que una fecha en este caso solo se considera un <i>string</i>. Tenga en cuenta que aunque la función <i>parseDate</i> acepta la variable <i>date</i> como any, después de verificar el tipo con <i>isString</i>, su tipo se establece como string, por lo que podemos dar la variable a la función <i>isDate</i> que requiere un string sin ningún problema.</p>
<p>Finalmente, estamos listos para pasar a los dos últimos tipos, Weather y Visibility.</p>
<p>Nos gustaría que la validación y el parsing funcionaran de la siguiente manera:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> parseWeather <span class="token operator">=</span> <span class="token punctuation">(</span>weather<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">Weather</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>weather <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isString</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isWeather</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing weather: &#x27;</span> <span class="token operator">+</span> weather<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> weather<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>La pregunta es, ¿cómo podemos validar que el string tiene una forma específica? Una forma posible de escribir el tipo de protección sería la siguiente:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isWeather <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> str is <span class="token parameter">Weather</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&#x27;sunny&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;rainy&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;cloudy&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;stormy&#x27;</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Esto funcionaría bien, pero el problema es que la lista de posibles condiciones meteorológicas no se mantiene necesariamente sincronizada con las definiciones de tipo si el tipo se modifica. Ciertamente, esto no es bueno, ya que nos gustaría tener una sola fuente para todos los posibles tipos de clima.</p>
<p>En nuestro caso, una mejor solución sería mejorar el tipo Weather real. En lugar de un alias de tipo, deberíamos usar <a href="https://www.typescriptlang.org/docs/handbook/enums.html">enum</a> de Typescript, que nos permite usar los valores reales en nuestro código en tiempo de ejecución, no solo en la fase de compilación.</p>
<p>Redefinamos el tipo <i>Weather</i> de la siguiente manera:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">enum</span> Weather <span class="token punctuation">{</span>
  Sunny <span class="token operator">=</span> <span class="token string">&#x27;sunny&#x27;</span><span class="token punctuation">,</span>
  Rainy <span class="token operator">=</span> <span class="token string">&#x27;rainy&#x27;</span><span class="token punctuation">,</span>
  Cloudy <span class="token operator">=</span> <span class="token string">&#x27;cloudy&#x27;</span><span class="token punctuation">,</span>
  Stormy <span class="token operator">=</span> <span class="token string">&#x27;stormy&#x27;</span><span class="token punctuation">,</span>
  Windy <span class="token operator">=</span> <span class="token string">&#x27;windy&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ahora podemos comprobar que un string es uno de los valores aceptados, y el tipo de protección se puede escribir así:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isWeather <span class="token operator">=</span> <span class="token punctuation">(</span>param<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> param is <span class="token parameter">Weather</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>Weather<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Una cosa a tener en cuenta aquí es que hemos cambiado el tipo de parámetro a <i>any</i>. Si sería string, la verificación <i>includes</i> no se compilará. Esto también tiene sentido si considera la posibilidad de reutilizar la función. Permitiendo <i>any</i> como parámetro, la función se puede usar con confianza sabiendo que, independientemente de lo que le demos, la función siempre nos dice si la variable es un clima válido o no.</p>
<p>La función <i>parseWeather</i> se puede simplificar un poco</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> parseWeather <span class="token operator">=</span> <span class="token punctuation">(</span>weather<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">Weather</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>weather <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isWeather</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing weather: &#x27;</span> <span class="token operator">+</span> weather<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> weather<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Surge un problema después de estos cambios. Nuestros datos ya no se ajustan a nuestros tipos:</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/2d23be7abdebf83abf928340dce1d30c/5a190/30.png"/></picture>
<p>Esto se debe a que no podemos simplemente asumir que un stringes una enumeración.</p>
<p>Podemos solucionar esto asignando los elementos de datos iniciales al tipo de <i>DiaryEntry</i> con la función <i>toNewDiaryEntry</i>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../src/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toNewDiaryEntry <span class="token keyword">from</span> <span class="token string">&quot;../src/utils&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
      <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-01-01&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rainy&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poor&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;comment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Pretty scary flight, I&#x27;m glad I&#x27;m alive&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> diaryEntries<span class="token operator">:</span> DiaryEntry <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token function">toNewDiaryEntry</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token keyword">as</span> DiaryEntry
  object<span class="token punctuation">.</span>id <span class="token operator">=</span> obj<span class="token punctuation">.</span>id
  <span class="token keyword">return</span> object
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> diaryEntries</code></pre></div>
<p>Tenga en cuenta que, dado que <i>toNewDiaryEntry</i> devuelve un objeto del tipo <i>NewDiaryEntry</i>, debemos afirmar que sea <i>DiaryEntry</i> con el operador <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions">as</a>.</p>
<p>Las enumeraciones se utilizan generalmente cuando hay un conjunto de valores predeterminados que no se espera que cambien en el futuro. Por lo general, las enumeraciones se usan para valoresmucho más estrictos que no cambian (por ejemplo, días de semana, meses, direcciones), pero dado que nos ofrecen una excelente manera de validar nuestros valores entrantes, también podríamos usarlos en nuestro caso.</p>
<p>Todavía tenemos que darle el mismo tratamiento a <i>visibility</i>. La enumeración se ve a continuación:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">enum</span> Visibility <span class="token punctuation">{</span>
  Great <span class="token operator">=</span> <span class="token string">&#x27;great&#x27;</span><span class="token punctuation">,</span>
  Good <span class="token operator">=</span> <span class="token string">&#x27;good&#x27;</span><span class="token punctuation">,</span>
  Ok <span class="token operator">=</span> <span class="token string">&#x27;ok&#x27;</span><span class="token punctuation">,</span>
  Poor <span class="token operator">=</span> <span class="token string">&#x27;poor&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></div>
<p>El tipo de protección y el parser están debajo</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isVisibility <span class="token operator">=</span> <span class="token punctuation">(</span>param<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> param is <span class="token parameter">Visibility</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>Visibility<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> parseVisibility <span class="token operator">=</span> <span class="token punctuation">(</span>visibility<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">Visibility</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visibility <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isVisibility</span><span class="token punctuation">(</span>visibility<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing visibility: &#x27;</span> <span class="token operator">+</span> visibility<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> visibility<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Y finalmente podemos finalizar la función <i>toNewDiaryEntry</i> que se encarga de validar y parsear los campos de los datos:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> toNewDiaryEntry <span class="token operator">=</span> <span class="token punctuation">(</span>object<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">NewDiaryEntry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    date<span class="token operator">:</span> <span class="token function">parseDate</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">,</span>
    comment<span class="token operator">:</span> <span class="token function">parseComment</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>comment<span class="token punctuation">)</span><span class="token punctuation">,</span>
    weather<span class="token operator">:</span> <span class="token function">parseWeather</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>weather<span class="token punctuation">)</span><span class="token punctuation">,</span>
    visibility<span class="token operator">:</span> <span class="token function">parseVisibility</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>visibility<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>¡La primera versión de nuestra aplicación de diario de vuelo ya está completa!</p>
<p>Si ahora intentamos crear una nueva entrada en el diario con campos no válidos o faltantes, recibiremos un mensaje de error apropiado.</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/f80b0dcb394e868f0fe7d3713852c9e7/5a190/30b.png"/></picture>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Ejercicios 9.12.-9.13.</h3>
<h4>9.12: Patientor backend, paso 5</h4>
<p>Cree un endpoint POST <i>/api/patients</i> para agregar pacientes. Asegúrese de que puede agregar pacientes también desde el frontend.</p>
<h4>9.13: Patientor backend, paso 6</h4>
<p>Configurar protecciones de tipo, validación y parsing seguro en la solicitud de POST <i>/api/patients</i>.</p>
<p>Refactorice el campo <i>Gender</i> para usar un tipo <a href="http://www.typescriptlang.org/docs/handbook/enums.html">enum</a>.</p>
</div></div></div></div></div><div class="container spacing element--flex element--centered"><a class="edit-link" target="__BLANK" href="https://github.com/FullStack-HY/FullStack-Hy.github.io/edit/source/src/content/9/es/part9c.md"><span>Proponer cambios al material</span></a></div><div class="container spacing spacing--after-large prev-next__container "><a class="col-4--mobile push-right-1 prev" href="/es/part9/primeros_pasos_con_typescript"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->9b</p><b>Parte anterior</b></div></a><div class="col-1--mobile separator"></div><a class="col-4--mobile push-left-1 next" href="/es/part9/react_con_tipos"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->9d</p><b>Siguiente parte</b></div></a></div></div><div class="container spacing--after-small spacing--mobile element--flex" id="footer"><div class="col-5 push-right-3 col-10--mobile order-2--mobile order-2--tablet footer__links element--flex element--space-between"><a href="https://www.helsinki.fi/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="/static/uoh_centre-3689cf9983a2ebc8089c8f078a9c4769.svg" alt="Helsingin yliopiston logo"/></div></div></a><a href="https://www.houston-inc.com/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjQ3cHgiIGhlaWdodD0iODJweCIgdmlld0JveD0iMCAwIDI0NyA4MiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPgogICAgPHRpdGxlPmxvZ28vaG91c3RvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxwb2x5Z29uIGlkPSJwYXRoLTEiIHBvaW50cz0iMCAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAzNi40NjU0MzgxIDAgMzYuNDY1NDM4MSI+PC9wb2x5Z29uPgogICAgPC9kZWZzPgogICAgPGcgaWQ9ImxvZ28vaG91c3RvbiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImhvdXN0b25fc2ltcGxlLmVwcy1jb3B5LTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0LjU4MTg5MywgMjMuMjYzMDQwKSI+CiAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgPGcgaWQ9IkNsaXAtMiI+PC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNODIuODA1MTI5OCwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDI1LjUzNjU1MDkgTDg1Ljk5MzYyOSwyNS41MzY1NTA5IEw4NS45OTM2MjksMTMuNTA2NjYwMyBMOTAuNDA2NTQ5MywxMy41MDY2NjAzIEw5MC40MDY1NDkzLDEwLjQ0NTY3ODQgTDc4LjM3NTEwMzYsMTAuNDQ1Njc4NCBMNzguMzc1MTAzNiwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDEzLjUwNjY2MDMgWiBNOTYuNDkxMDQ5NSwxNy45NjM2ODg1IEM5Ni40OTEwNDk1LDIwLjU1OTU1NzIgOTguMzE3ODU1NywyMi43MDc5ODQyIDEwMC44ODYxNTcsMjIuNzA3OTg0MiBDMTAzLjQ1NDg4MiwyMi43MDc5ODQyIDEwNS4yNDcxOTQsMjAuNTk1NDY1NyAxMDUuMjQ3MTk0LDE4LjAxNzk3NTMgTDEwNS4yNDcxOTQsMTguMDAwMDIxMSBDMTA1LjI0NzE5NCwxNS40MDQyOTM3IDEwMy40MjA1MjksMTMuMjU1ODY2NyAxMDAuODUyMjI4LDEzLjI1NTg2NjcgQzk4LjI4MzUwMjMsMTMuMjU1ODY2NyA5Ni40OTEwNDk1LDE1LjM2ODM4NTMgOTYuNDkxMDQ5NSwxNy45NDU3MzQzIEw5Ni40OTEwNDk1LDE3Ljk2MzY4ODUgWiBNOTMuMTQ3MDQxMywxOC4wMTc5NzUzIEw5My4xNDcwNDEzLDE3Ljk4MjA2NjkgQzkzLjE0NzA0MTMsMTMuNjg1NDk1NiA5Ni40MDQ4MTI3LDEwLjE3NjkzMDYgMTAwLjg4NjE1NywxMC4xNzY5MzA2IEMxMDUuMzY3OTI1LDEwLjE3NjkzMDYgMTA4LjU5MTM0MywxMy42NDk3Mjg1IDEwOC41OTEzNDMsMTcuOTQ1NzM0MyBMMTA4LjU5MTM0MywxNy45NjM2ODg1IEMxMDguNTkxMzQzLDIyLjI2MDI1OTggMTA1LjMzMzU3MiwyNS43Njg4MjQ3IDEwMC44NTIyMjgsMjUuNzY4ODI0NyBDOTYuMzcwMzE4LDI1Ljc2ODgyNDcgOTMuMTQ3MDQxMywyMi4zMTQxMjI0IDkzLjE0NzA0MTMsMTguMDE3OTc1MyBMOTMuMTQ3MDQxMywxOC4wMTc5NzUzIFogTTcwLjQxMTkxMzcsMjIuNzk3MDQ4NSBDNjguNzU2ODc0MiwyMi43OTcwNDg1IDY3LjM3ODIxNjYsMjIuMDgxMjgzMSA2Ni4wNjg0MDcsMjAuOTcxNzk3NCBMNjQuMTcyMTg3MiwyMy4zMTY0NDg0IEM2NS45MTMxODA4LDI0LjkyNzk0NTQgNjguMTM2Njc2MiwyNS43MzMzNDA0IDcwLjM0MzA2NTYsMjUuNzMzMzQwNCBDNzMuNDgwMTA1NSwyNS43MzMzNDA0IDc1LjY2OTI0NzYsMjQuMDUwMTY4IDc1LjY2OTI0NzYsMjEuMDYxMDAzIEw3NS42NjkyNDc2LDIxLjAyNTA5NDUgQzc1LjcyMTEzMSwxOC4zOTM0NTg4IDc0LjA0ODU2MTUsMTcuMzAxNzg1OCA3MS4xMDExMDExLDE2LjQ5NTgyNTMgQzY4LjU4NDY4MzQsMTUuODMzOTIyNiA2Ny45NjM5MTk5LDE1LjUxMTMxMjIgNjcuOTYzOTE5OSwxNC41MDg5ODYyIEw2Ny45NjM5MTk5LDE0LjQ3MzA3NzggQzY3Ljk2MzkxOTksMTMuNzM4OTM0MSA2OC42MDIyMTM1LDEzLjE2NjY2MTEgNjkuODI1NjQ0OSwxMy4xNjY2NjExIEM3MS4wNDk2NDE4LDEzLjE2NjY2MTEgNzIuMzA3OTkyMSwxMy43MjA5Nzk5IDczLjYwMDgzNywxNC42NTIwNTQ1IEw3NS4yNTU1OTM4LDEyLjE0NTk1NjkgQzczLjc4OTk5MjUsMTAuOTEwNjUwMiA3MS45ODA3MTY0LDEwLjIzMDM2OTIgNjkuODYwNTYzNywxMC4yMzAzNjkyIEM2Ni44OTU3MTQ3LDEwLjIzMDM2OTIgNjQuNzc1NTYyLDEyLjAzODY1NTcgNjQuNzc1NTYyLDE0Ljc3NzU5MjYgTDY0Ljc3NTU2MiwxNC44MTMwNzY5IEM2NC43NzU1NjIsMTcuODAyNjY2MSA2Ni42NzEwNzQ5LDE4LjY0NDUzNSA2OS41ODQxODE5LDE5LjQzMjExNzMgQzcyLjAxNDY0NTYsMjAuMDc2NjMxMiA3Mi41MTQ2Nzc2LDIwLjUwNjI2MDEgNzIuNTE0Njc3NiwyMS4zNDc3MDQ5IEw3Mi41MTQ2Nzc2LDIxLjM4MzA0NzkgQzcyLjUxNDY3NzYsMjIuMjYwMjU5OCA3MS43MjIyODg4LDIyLjc5NzA0ODUgNzAuNDExOTEzNywyMi43OTcwNDg1IEw3MC40MTE5MTM3LDIyLjc5NzA0ODUgWiBNMzEuMzM2NDY5NywxNy45NjM2ODg1IEMzMS4zMzY0Njk3LDIwLjU1OTU1NzIgMzMuMTYzNywyMi43MDc5ODQyIDM1LjczMTg1OTksMjIuNzA3OTg0MiBDMzguMzAwMTYxMSwyMi43MDc5ODQyIDQwLjA5MjQ3MjYsMjAuNTk1NDY1NyA0MC4wOTI0NzI2LDE4LjAxNzk3NTMgTDQwLjA5MjQ3MjYsMTguMDAwMDIxMSBDNDAuMDkyNDcyNiwxNS40MDQyOTM3IDM4LjI2NTI0MjMsMTMuMjU1ODY2NyAzNS42OTY5NDEsMTMuMjU1ODY2NyBDMzMuMTI5MjA1MywxMy4yNTU4NjY3IDMxLjMzNjQ2OTcsMTUuMzY4Mzg1MyAzMS4zMzY0Njk3LDE3Ljk0NTczNDMgTDMxLjMzNjQ2OTcsMTcuOTYzNjg4NSBaIE0yOC4wMDk3MDg5LDE4LjAxNzk3NTMgTDI4LjAwOTcwODksMTcuOTgyMDY2OSBDMjguMDA5NzA4OSwxMy42ODU0OTU2IDMxLjI2NzQ4MDMsMTAuMTc2OTMwNiAzNS43NDg4MjQ1LDEwLjE3NjkzMDYgQzQwLjIzMDczNDIsMTAuMTc2OTMwNiA0My40MzYxOTgsMTMuNjQ5NzI4NSA0My40NTQwMTA5LDE3Ljk0NTczNDMgTDQzLjQ1NDAxMDksMTcuOTYzNjg4NSBDNDMuNDU0MDEwOSwyMi4yNjAyNTk4IDQwLjE5NjIzOTUsMjUuNzY4ODI0NyAzNS43MTQ4OTUzLDI1Ljc2ODgyNDcgQzMxLjIzMjU2MTUsMjUuNzY4ODI0NyAyOC4wMDk3MDg5LDIyLjMxNDEyMjQgMjguMDA5NzA4OSwxOC4wMTc5NzUzIEwyOC4wMDk3MDg5LDE4LjAxNzk3NTMgWiBNNTMuODMwNDE3MSwyNS43MzMzNDA0IEM1Ny43NDI4ODEyLDI1LjczMzM0MDQgNjAuMjA3ODM5NywyMy40OTU4NDkyIDYwLjIwNzgzOTcsMTguOTMwNjcxNSBMNjAuMjA3ODM5NywxMC40MjcxNTg3IEw1Ny4wMDE4MTAzLDEwLjQyNzE1ODcgTDU3LjAwMTgxMDMsMTkuMDczNzM5OCBDNTcuMDAxODEwMywyMS40NzI2Nzc2IDU1LjgxMjMwODEsMjIuNjkwMDMgNTMuODY0NzcwNCwyMi42OTAwMyBDNTEuOTE3Mzc0MSwyMi42OTAwMyA1MC43Mjc3MzA1LDIxLjQxODk1NjMgNTAuNzI3NzMwNSwxOC45NjY1OCBMNTAuNzI3NzMwNSwxMC40MjcxNTg3IEw0Ny41Mzg2NjU4LDEwLjQyNzE1ODcgTDQ3LjUzODY2NTgsMTkuMDM3ODMxMyBDNDcuNTM4NjY1OCwyMy40Nzc4OTUgNDkuOTE3OTUzLDI1LjczMzM0MDQgNTMuODMwNDE3MSwyNS43MzMzNDA0IEw1My44MzA0MTcxLDI1LjczMzM0MDQgWiBNMy4xNTQ1NywzMy4xOTgxOTQ4IEwxMzUuMDM2NjMyLDMzLjE5ODE5NDggTDEzNS4wMzY2MzIsMy4zMDI0NDQ4OCBMMy4xNTQ1NywzLjMwMjQ0NDg4IEwzLjE1NDU3LDMzLjE5ODE5NDggWiBNMCwzNi40NzM5MjA0IEwxMzguMjA4MTY3LDM2LjQ3MzkyMDQgTDEzOC4yMDgxNjcsMC4wMjY3MTkyNjczIEwwLDAuMDI2NzE5MjY3MyBMMCwzNi40NzM5MjA0IFogTTE0LjgyMzExNDMsMTkuNDg1NDE0NCBMMjAuNzE4NjAwNSwxOS40ODU0MTQ0IEwyMC43MTg2MDA1LDI1LjUzNjU1MDkgTDIzLjkwNzY2NTIsMjUuNTM2NTUwOSBMMjMuOTA3NjY1MiwxMC40NDU2Nzg0IEwyMC43MTg2MDA1LDEwLjQ0NTY3ODQgTDIwLjcxODYwMDUsMTYuNDA2MDU0MiBMMTQuODIzMTE0MywxNi40MDYwNTQyIEwxNC44MjMxMTQzLDEwLjQ0NTY3ODQgTDExLjYzNDc1NjUsMTAuNDQ1Njc4NCBMMTEuNjM0NzU2NSwyNS41MzY1NTA5IEwxNC44MjMxMTQzLDI1LjUzNjU1MDkgTDE0LjgyMzExNDMsMTkuNDg1NDE0NCBaIE0xMTUuODY0OTIyLDE1Ljk0MTUwNjUgTDEyMi44OTc2MDIsMjUuNTM2NTUwOSBMMTI1LjYyMDk4OCwyNS41MzY1NTA5IEwxMjUuNjIwOTg4LDEwLjQ0NTY3ODQgTDEyMi40NjY0MTgsMTAuNDQ1Njc4NCBMMTIyLjQ2NjQxOCwxOS43MzYyMDggTDExNS42NTgzNzcsMTAuNDQ1Njc4NCBMMTEyLjcxMDkxNywxMC40NDU2Nzg0IEwxMTIuNzEwOTE3LDI1LjUzNjU1MDkgTDExNS44NjQ5MjIsMjUuNTM2NTUwOSBMMTE1Ljg2NDkyMiwxNS45NDE1MDY1IEwxMTUuODY0OTIyLDE1Ljk0MTUwNjUgWiIgaWQ9IkZpbGwtMSIgZmlsbD0iIzAwMDEwNSIgbWFzaz0idXJsKCNtYXNrLTIpIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" alt="Houston inc. logo"/></div></div></a></div><div class="col-5 col-5--mobile order-1--mobile order-1--tablet footer__navigation element--flex"><div class="footer__navigation-link-container"><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/es/about">Acerca del curso</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/es/#course-contents">Contenido del curso</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/es/faq">Preguntas frecuentes</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/es/companies">Partners</a></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135975842-1', 'fullstackopen.com', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/es/part9/escribiendo_la_aplicacion_express";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-dbb088d2dab52596379f.js"],"app":["/app-ef8bef0e206781be83c1.js"],"component---src-pages-404-js":["/component---src-pages-404-js-89af4c7add8c7978ed1c.js"],"component---src-pages-about-en-js":["/component---src-pages-about-en-js-5e5020df69d58f0a7e69.js"],"component---src-pages-about-es-js":["/component---src-pages-about-es-js-97229fd3d73a2c197882.js"],"component---src-pages-about-js":["/component---src-pages-about-js-518b1b540007cd36a194.js"],"component---src-pages-about-zh-js":["/component---src-pages-about-zh-js-6e3021c9a1eed6425572.js"],"component---src-pages-challenge-en-js":["/component---src-pages-challenge-en-js-2c65f2f7e045262f3879.js"],"component---src-pages-challenge-es-js":["/component---src-pages-challenge-es-js-c9f605b8fa584ee59993.js"],"component---src-pages-challenge-js":["/component---src-pages-challenge-js-a08dcf36bba815e6e5b4.js"],"component---src-pages-challenge-zh-js":["/component---src-pages-challenge-zh-js-ecc0199ac62e67a9341f.js"],"component---src-pages-companies-en-js":["/component---src-pages-companies-en-js-e94068831a275497aabc.js"],"component---src-pages-companies-es-js":["/component---src-pages-companies-es-js-f5000ca7ba2035277b59.js"],"component---src-pages-companies-js":["/component---src-pages-companies-js-974f2b79031483982ae8.js"],"component---src-pages-companies-zh-js":["/component---src-pages-companies-zh-js-e232877a3e8f94e21e7e.js"],"component---src-pages-faq-en-js":["/component---src-pages-faq-en-js-e670d6c165336aa7abbb.js"],"component---src-pages-faq-es-js":["/component---src-pages-faq-es-js-66e3c0aa297eb79475c6.js"],"component---src-pages-faq-js":["/component---src-pages-faq-js-7e487cf8d4d0060dbbd6.js"],"component---src-pages-faq-zh-js":["/component---src-pages-faq-zh-js-cf0fe3f8a70ff9d848bb.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js-6be4fa2830209e9e4db3.js"],"component---src-pages-index-es-js":["/component---src-pages-index-es-js-f6be40f62e3cc3652975.js"],"component---src-pages-index-js":["/component---src-pages-index-js-30bfa48a0668f61de223.js"],"component---src-pages-index-zh-js":["/component---src-pages-index-zh-js-36b9cfcc3fa59be92514.js"],"component---src-pages-search-en-js":["/component---src-pages-search-en-js-f42523c2d36c56303773.js"],"component---src-pages-search-js":["/component---src-pages-search-js-29b2f0f5c7d89c1e1119.js"],"component---src-pages-search-zh-js":["/component---src-pages-search-zh-js-ba9f2429d9bfd77d7581.js"],"component---src-templates-content-template-js":["/component---src-templates-content-template-js-a9cde9440b7a4e0a5638.js"],"component---src-templates-part-intro-template-js":["/component---src-templates-part-intro-template-js-db1a2cf2e4f1d65856c3.js"]};/*]]>*/</script><script src="/polyfill-dbb088d2dab52596379f.js" nomodule=""></script><script src="/webpack-runtime-a7eee694451a048fe190.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/commons-2f51cc50765e604cbb43.js" async=""></script><script src="/30844a71ec80b1e82ad30323d06b914984ff6c2b-9847aef7af5bdcc218fe.js" async=""></script><script src="/e4b9374bcd292c90587e3ccf579324c3065ac22f-63f0a03f893b4902fedd.js" async=""></script><script src="/ff8e348e8d42e8d61f84312613c75c948ce81396-bbc0c43404e43e967ab7.js" async=""></script><script src="/component---src-templates-content-template-js-a9cde9440b7a4e0a5638.js" async=""></script><script src="/app-ef8bef0e206781be83c1.js" async=""></script><script src="/framework-bb9bb9cb9df99aee3258.js" async=""></script><script src="/5d7a54886b2742230021cc39eab839038eb7a677-aad1a805ee4596e9a838.js" async=""></script></body></html>